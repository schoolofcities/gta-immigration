import{t as tt,n as mt,a as W}from"./BK7Wmniv.js";import{B as pt,y as k,C as Y,g as J,F as K,z as F,D as bt}from"./Fxx0eZ4n.js";import{s as nt,e as yt}from"./CJGlZdPQ.js";import{R as et,r as wt,d as rt,e as it,C as at,n as U,l as _,a as xt,i as Ct,p as Et}from"./B8_PCwly.js";import{s as h}from"./DV5cpcdT.js";import{p as T}from"./sL20XP9V.js";import"./BiDEo7bR.js";function Nt(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let c of t)c!=null&&(c=+c)>=c&&(r=c-i,i+=r/++e,o+=r*(c-i));else{let c=-1;for(let g of t)(g=n(g,++c,t))!=null&&(g=+g)>=g&&(r=g-i,i+=r/++e,o+=r*(g-i))}if(e>1)return o/(e-1)}function Q(t,n){const e=Nt(t,n);return e&&Math.sqrt(e)}function X(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}const Mt=Math.PI/180,Tt=180/Math.PI,z=18,ot=.96422,ct=1,st=.82521,ut=4/29,R=6/29,lt=3*R*R,jt=R*R*R;function ft(t){if(t instanceof w)return new w(t.l,t.a,t.b,t.opacity);if(t instanceof N)return ht(t);t instanceof et||(t=wt(t));var n=O(t.r),e=O(t.g),r=O(t.b),i=q((.2225045*n+.7168786*e+.0606169*r)/ct),o,c;return n===e&&e===r?o=c=i:(o=q((.4360747*n+.3850649*e+.1430804*r)/ot),c=q((.0139322*n+.0971045*e+.7141733*r)/st)),new w(116*i-16,500*(o-i),200*(i-c),t.opacity)}function H(t,n,e,r){return arguments.length===1?ft(t):new w(t,n,e,r??1)}function w(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}rt(w,H,it(at,{brighter(t){return new w(this.l+z*(t??1),this.a,this.b,this.opacity)},darker(t){return new w(this.l-z*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=ot*B(n),t=ct*B(t),e=st*B(e),new et(L(3.1338561*n-1.6168667*t-.4906146*e),L(-.9787684*n+1.9161415*t+.033454*e),L(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function q(t){return t>jt?Math.pow(t,1/3):t/lt+ut}function B(t){return t>R?t*t*t:lt*(t-ut)}function L(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function O(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){if(t instanceof N)return new N(t.h,t.c,t.l,t.opacity);if(t instanceof w||(t=ft(t)),t.a===0&&t.b===0)return new N(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Tt;return new N(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Rt(t,n,e,r){return arguments.length===1?At(t):new N(t,n,e,r??1)}function N(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function ht(t){if(isNaN(t.h))return new w(t.l,0,0,t.opacity);var n=t.h*Mt;return new w(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}rt(N,Rt,it(at,{brighter(t){return new N(this.h,this.c,this.l+z*(t??1),this.opacity)},darker(t){return new N(this.h,this.c,this.l-z*(t??1),this.opacity)},rgb(){return ht(this).rgb()}}));function Dt(t,n){var e=U((t=H(t)).l,(n=H(n)).l),r=U(t.a,n.a),i=U(t.b,n.b),o=U(t.opacity,n.opacity);return function(c){return t.l=e(c),t.a=r(c),t.b=i(c),t.opacity=o(c),t+""}}var G={},P={},Z=34,I=10,V=13;function dt(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function It(t,n){var e=dt(t);return function(r,i){return n(e(r),i,t)}}function $(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function d(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function kt(t){return t<0?"-"+d(-t,6):t>9999?"+"+d(t,6):d(t,4)}function Ft(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":kt(t.getUTCFullYear())+"-"+d(t.getUTCMonth()+1,2)+"-"+d(t.getUTCDate(),2)+(i?"T"+d(n,2)+":"+d(e,2)+":"+d(r,2)+"."+d(i,3)+"Z":r?"T"+d(n,2)+":"+d(e,2)+":"+d(r,2)+"Z":e||n?"T"+d(n,2)+":"+d(e,2)+"Z":"")}function St(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(a,s){var b,u,l=i(a,function(p,m){if(b)return b(p,m-1);u=p,b=s?It(p,s):dt(p)});return l.columns=u||[],l}function i(a,s){var b=[],u=a.length,l=0,p=0,m,x=u<=0,C=!1;a.charCodeAt(u-1)===I&&--u,a.charCodeAt(u-1)===V&&--u;function M(){if(x)return P;if(C)return C=!1,G;var A,f=l,y;if(a.charCodeAt(f)===Z){for(;l++<u&&a.charCodeAt(l)!==Z||a.charCodeAt(++l)===Z;);return(A=l)>=u?x=!0:(y=a.charCodeAt(l++))===I?C=!0:y===V&&(C=!0,a.charCodeAt(l)===I&&++l),a.slice(f+1,A-1).replace(/""/g,'"')}for(;l<u;){if((y=a.charCodeAt(A=l++))===I)C=!0;else if(y===V)C=!0,a.charCodeAt(l)===I&&++l;else if(y!==e)continue;return a.slice(f,A)}return x=!0,a.slice(f,u)}for(;(m=M())!==P;){for(var E=[];m!==G&&m!==P;)E.push(m),m=M();s&&(E=s(E,p++))==null||b.push(E)}return b}function o(a,s){return a.map(function(b){return s.map(function(u){return j(b[u])}).join(t)})}function c(a,s){return s==null&&(s=$(a)),[s.map(j).join(t)].concat(o(a,s)).join(`
`)}function g(a,s){return s==null&&(s=$(a)),o(a,s).join(`
`)}function v(a){return a.map(S).join(`
`)}function S(a){return a.map(j).join(t)}function j(a){return a==null?"":a instanceof Date?Ft(a):n.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}return{parse:r,parseRows:i,format:c,formatBody:g,formatRows:v,formatRow:S,formatValue:j}}var Ut=St(","),zt=Ut.parse;function _t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function qt(t,n){return fetch(t,n).then(_t)}function Bt(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),qt(n,e).then(function(i){return t(i,r)})}}var Xt=Bt(zt);function Lt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Gt(t,n){return fetch(t,n).then(Lt)}var Ot=mt('<circle fill-opacity="0.75"></circle>'),Pt=tt('<div class="scatter-plot svelte-1gbkoqg"><svg class="svelte-1gbkoqg"><!><line stroke="#ffffff" stroke-width="5" stroke-linecap="round"></line><text class="scatter-title svelte-1gbkoqg" font-size="14"> </text></svg></div>');function $t(t,n){pt(n,!0);let e=T(n,"correlation",3,0),r=T(n,"xEnd",3,70),i=T(n,"height",3,100),o=T(n,"plotWidth",3,100),c=T(n,"colorStart",19,()=>-1.5),g=T(n,"colorEnd",3,.35);const v={x:_().domain([0,r()]).range([0,o()]),y:_().domain([0,80]).range([i(),0])},S=_().domain([c(),0,g()]).range(["#4d4d4d","#D0D1C9","#007FA3"]).interpolate(Dt),j=X(n.points,f=>f.x),a=X(n.points,f=>f.y),s=Q(n.points,f=>f.x),b=Q(n.points,f=>f.y),u=e()*(b/s),l=a-u*j,p={x1:v.x(0),y1:v.y(l),x2:v.x(r()),y2:v.y(u*r()+l)};var m=Pt(),x=k(m),C=k(x);xt(C,17,()=>n.points,Ct,(f,y)=>{var D=Ot();h(D,"r",2),h(D,"fill","white"),Y((gt,vt)=>{h(D,"cx",gt),h(D,"cy",vt)},[()=>v.x(J(y).x),()=>v.y(J(y).y)]),W(f,D)});var M=K(C),E=K(M);h(E,"y",15);var A=k(E,!0);F(E),F(x),F(m),Y((f,y)=>{h(m,"style",`width: ${o()??""}px; height: ${i()??""}px;`),h(x,"width",o()),h(x,"height",i()),h(x,"style",`background-color: ${f??""}`),h(M,"x1",p.x1),h(M,"y1",p.y1),h(M,"x2",p.x2),h(M,"y2",p.y2),h(E,"x",y),nt(A,n.year)},[()=>S(u),()=>v.x(r()/2)]),W(t,m),bt()}var Zt=tt('<span class="footnote-ref-wrapper svelte-16o3s10"><a class="footnote-ref svelte-16o3s10"> </a></span>');function tn(t,n){let e=T(n,"id",8),r=`footnote-${e()}`,i=`footnote-ref-${e()}`;var o=Zt(),c=k(o);h(c,"id",i),h(c,"href",`#${r}`);var g=k(c,!0);F(c),F(o),Y(()=>nt(g,e())),yt("click",c,Et(()=>{const v=document.getElementById(r);v&&v.scrollIntoView({behavior:"auto",block:"start"})})),W(t,o)}export{tn as F,$t as S,zt as a,Xt as c,Q as d,Gt as j,X as m};
