import{t as Ye,a as O,n as V,c as Gt}from"../chunks/BK7Wmniv.js";import"../chunks/BiDEo7bR.js";import{B as je,C as Q,D as Je,F as C,y as P,L as N,z as F,g as o,ax as mt,f as be,w as Qe,as as J,at as Yt,au as R,_ as ae,e as ze}from"../chunks/Fxx0eZ4n.js";import{i as rt}from"../chunks/DJIllxwD.js";import{b as at,s as g,T as jt}from"../chunks/DV5cpcdT.js";import{s as Te}from"../chunks/CJGlZdPQ.js";import{k as kt,m as Jt,o as Qt,t as gt,q as Vt,s as Et,b as Ne,a as te,i as ne,l as nt,F as Xt,j as Bt}from"../chunks/BH2GkCpC.js";import{o as ot}from"../chunks/B_3djCp6.js";import{g as Kt,a as $t}from"../chunks/BZRyRBhv.js";import{i as we,p as Fe}from"../chunks/sL20XP9V.js";import{l as Ft}from"../chunks/CjWAwAWE.js";function en(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],u;return a<s&&(u=n,n=r,r=u,u=s,s=a,a=u),e[n]=t.floor(s),e[r]=t.ceil(a),e}function Lt(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[Jt(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var u=t.indexOf(a);return[e[u-1],e[u]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Lt().domain(e).range(t).unknown(n)},kt.apply(s,arguments)}const Be=new Date,Ke=new Date;function Z(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const u=s(a),f=s.ceil(a);return a-u<f-a?u:f},s.offset=(a,u)=>(t(a=new Date(+a),u==null?1:Math.floor(u)),a),s.range=(a,u,f)=>{const y=[];if(a=s.ceil(a),f=f==null?1:Math.floor(f),!(a<u)||!(f>0))return y;let v;do y.push(v=new Date(+a)),t(a,f),e(a);while(v<a&&a<u);return y},s.filter=a=>Z(u=>{if(u>=u)for(;e(u),!a(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!a(u););else for(;--f>=0;)for(;t(u,1),!a(u););}),n&&(s.count=(a,u)=>(Be.setTime(+a),Ke.setTime(+u),e(Be),e(Ke),Math.floor(n(Be,Ke))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?u=>r(u)%a===0:u=>s.count(0,u)%a===0):s)),s}const qe=Z(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qe.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Z(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qe);qe.range;const ue=1e3,oe=ue*60,le=oe*60,ce=le*24,it=ce*7,ht=ce*30,$e=ce*365,Ce=Z(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ue)},(e,t)=>(t-e)/ue,e=>e.getUTCSeconds());Ce.range;const st=Z(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ue)},(e,t)=>{e.setTime(+e+t*oe)},(e,t)=>(t-e)/oe,e=>e.getMinutes());st.range;const tn=Z(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oe)},(e,t)=>(t-e)/oe,e=>e.getUTCMinutes());tn.range;const ut=Z(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ue-e.getMinutes()*oe)},(e,t)=>{e.setTime(+e+t*le)},(e,t)=>(t-e)/le,e=>e.getHours());ut.range;const nn=Z(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*le)},(e,t)=>(t-e)/le,e=>e.getUTCHours());nn.range;const Ae=Z(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oe)/ce,e=>e.getDate()-1);Ae.range;const lt=Z(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ce,e=>e.getUTCDate()-1);lt.range;const rn=Z(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ce,e=>Math.floor(e/ce));rn.range;function xe(e){return Z(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*oe)/it)}const Ve=xe(0),Ze=xe(1),an=xe(2),on=xe(3),Ue=xe(4),sn=xe(5),un=xe(6);Ve.range;Ze.range;an.range;on.range;Ue.range;sn.range;un.range;function Me(e){return Z(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/it)}const Ht=Me(0),Ge=Me(1),ln=Me(2),cn=Me(3),Se=Me(4),fn=Me(5),mn=Me(6);Ht.range;Ge.range;ln.range;cn.range;Se.range;fn.range;mn.range;const ct=Z(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ct.range;const gn=Z(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gn.range;const fe=Z(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Z(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fe.range;const _e=Z(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_e.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Z(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_e.range;function hn(e,t,n,r,s,a){const u=[[Ce,1,ue],[Ce,5,5*ue],[Ce,15,15*ue],[Ce,30,30*ue],[a,1,oe],[a,5,5*oe],[a,15,15*oe],[a,30,30*oe],[s,1,le],[s,3,3*le],[s,6,6*le],[s,12,12*le],[r,1,ce],[r,2,2*ce],[n,1,it],[t,1,ht],[t,3,3*ht],[e,1,$e]];function f(v,_,b){const p=_<v;p&&([v,_]=[_,v]);const S=b&&typeof b.range=="function"?b:y(v,_,b),k=S?S.range(v,+_+1):[];return p?k.reverse():k}function y(v,_,b){const p=Math.abs(_-v)/b,S=Qt(([,,q])=>q).right(u,p);if(S===u.length)return e.every(gt(v/$e,_/$e,b));if(S===0)return qe.every(Math.max(gt(v,_,b),1));const[k,L]=u[p/u[S-1][2]<u[S][2]/p?S-1:S];return k.every(L)}return[f,y]}const[vn,yn]=hn(fe,ct,Ve,Ae,ut,st);function et(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Le(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dn(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,u=e.shortDays,f=e.months,y=e.shortMonths,v=He(s),_=We(s),b=He(a),p=We(a),S=He(u),k=We(u),L=He(f),q=We(f),x=He(y),Y=We(y),H={a:ee,A:me,b:ge,B:he,c:null,d:_t,e:_t,f:Pn,g:Xn,G:Kn,H:On,I:zn,j:Nn,L:Wt,m:Rn,M:qn,p:de,q:ve,Q:bt,s:Dt,S:Zn,u:Gn,U:jn,V:Jn,w:Qn,W:Vn,x:null,X:null,y:En,Y:Bn,Z:$n,"%":Mt},I={a:ie,A:ye,b:pe,B:Ee,c:null,d:xt,e:xt,f:rr,g:gr,G:vr,H:er,I:tr,j:nr,L:It,m:ar,M:or,p:Ie,q:Xe,Q:bt,s:Dt,S:ir,u:sr,U:ur,V:lr,w:cr,W:fr,x:null,X:null,y:mr,Y:hr,Z:yr,"%":Mt},M={a:X,A:re,b:K,B:T,c:D,d:pt,e:pt,f:Hn,g:dt,G:yt,H:Tt,I:Tt,j:Yn,L:Ln,m:Sn,M:kn,p:$,q:Un,Q:An,s:In,S:Fn,u:Mn,U:bn,V:Dn,w:xn,W:wn,x:G,X:B,y:dt,Y:yt,Z:Cn,"%":Wn};H.x=c(n,H),H.X=c(r,H),H.c=c(t,H),I.x=c(n,I),I.X=c(r,I),I.c=c(t,I);function c(l,m){return function(h){var i=[],A=-1,w=0,z=l.length,j,se,Oe;for(h instanceof Date||(h=new Date(+h));++A<z;)l.charCodeAt(A)===37&&(i.push(l.slice(w,A)),(se=vt[j=l.charAt(++A)])!=null?j=l.charAt(++A):se=j==="e"?" ":"0",(Oe=m[j])&&(j=Oe(h,se)),i.push(j),w=A+1);return i.push(l.slice(w,A)),i.join("")}}function d(l,m){return function(h){var i=Le(1900,void 0,1),A=W(i,l,h+="",0),w,z;if(A!=h.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(i.s*1e3+("L"in i?i.L:0));if(m&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+i.p*12),i.m===void 0&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(w=tt(Le(i.y,0,1)),z=w.getUTCDay(),w=z>4||z===0?Ge.ceil(w):Ge(w),w=lt.offset(w,(i.V-1)*7),i.y=w.getUTCFullYear(),i.m=w.getUTCMonth(),i.d=w.getUTCDate()+(i.w+6)%7):(w=et(Le(i.y,0,1)),z=w.getDay(),w=z>4||z===0?Ze.ceil(w):Ze(w),w=Ae.offset(w,(i.V-1)*7),i.y=w.getFullYear(),i.m=w.getMonth(),i.d=w.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),z="Z"in i?tt(Le(i.y,0,1)).getUTCDay():et(Le(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+i.W*7-(z+5)%7:i.w+i.U*7-(z+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,tt(i)):et(i)}}function W(l,m,h,i){for(var A=0,w=m.length,z=h.length,j,se;A<w;){if(i>=z)return-1;if(j=m.charCodeAt(A++),j===37){if(j=m.charAt(A++),se=M[j in vt?m.charAt(A++):j],!se||(i=se(l,h,i))<0)return-1}else if(j!=h.charCodeAt(i++))return-1}return i}function $(l,m,h){var i=v.exec(m.slice(h));return i?(l.p=_.get(i[0].toLowerCase()),h+i[0].length):-1}function X(l,m,h){var i=S.exec(m.slice(h));return i?(l.w=k.get(i[0].toLowerCase()),h+i[0].length):-1}function re(l,m,h){var i=b.exec(m.slice(h));return i?(l.w=p.get(i[0].toLowerCase()),h+i[0].length):-1}function K(l,m,h){var i=x.exec(m.slice(h));return i?(l.m=Y.get(i[0].toLowerCase()),h+i[0].length):-1}function T(l,m,h){var i=L.exec(m.slice(h));return i?(l.m=q.get(i[0].toLowerCase()),h+i[0].length):-1}function D(l,m,h){return W(l,t,m,h)}function G(l,m,h){return W(l,n,m,h)}function B(l,m,h){return W(l,r,m,h)}function ee(l){return u[l.getDay()]}function me(l){return a[l.getDay()]}function ge(l){return y[l.getMonth()]}function he(l){return f[l.getMonth()]}function de(l){return s[+(l.getHours()>=12)]}function ve(l){return 1+~~(l.getMonth()/3)}function ie(l){return u[l.getUTCDay()]}function ye(l){return a[l.getUTCDay()]}function pe(l){return y[l.getUTCMonth()]}function Ee(l){return f[l.getUTCMonth()]}function Ie(l){return s[+(l.getUTCHours()>=12)]}function Xe(l){return 1+~~(l.getUTCMonth()/3)}return{format:function(l){var m=c(l+="",H);return m.toString=function(){return l},m},parse:function(l){var m=d(l+="",!1);return m.toString=function(){return l},m},utcFormat:function(l){var m=c(l+="",I);return m.toString=function(){return l},m},utcParse:function(l){var m=d(l+="",!0);return m.toString=function(){return l},m}}}var vt={"-":"",_:" ",0:"0"},E=/^\s*\d+/,pn=/^%/,Tn=/[\\^$*+?|[\]().{}]/g;function U(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function _n(e){return e.replace(Tn,"\\$&")}function He(e){return new RegExp("^(?:"+e.map(_n).join("|")+")","i")}function We(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function xn(e,t,n){var r=E.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=E.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function bn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yt(e,t,n){var r=E.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dt(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Un(e,t,n){var r=E.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Sn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pt(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Yn(e,t,n){var r=E.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Tt(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Fn(e,t,n){var r=E.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ln(e,t,n){var r=E.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=E.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wn(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function An(e,t,n){var r=E.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function In(e,t,n){var r=E.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _t(e,t){return U(e.getDate(),t,2)}function On(e,t){return U(e.getHours(),t,2)}function zn(e,t){return U(e.getHours()%12||12,t,2)}function Nn(e,t){return U(1+Ae.count(fe(e),e),t,3)}function Wt(e,t){return U(e.getMilliseconds(),t,3)}function Pn(e,t){return Wt(e,t)+"000"}function Rn(e,t){return U(e.getMonth()+1,t,2)}function qn(e,t){return U(e.getMinutes(),t,2)}function Zn(e,t){return U(e.getSeconds(),t,2)}function Gn(e){var t=e.getDay();return t===0?7:t}function jn(e,t){return U(Ve.count(fe(e)-1,e),t,2)}function At(e){var t=e.getDay();return t>=4||t===0?Ue(e):Ue.ceil(e)}function Jn(e,t){return e=At(e),U(Ue.count(fe(e),e)+(fe(e).getDay()===4),t,2)}function Qn(e){return e.getDay()}function Vn(e,t){return U(Ze.count(fe(e)-1,e),t,2)}function En(e,t){return U(e.getFullYear()%100,t,2)}function Xn(e,t){return e=At(e),U(e.getFullYear()%100,t,2)}function Bn(e,t){return U(e.getFullYear()%1e4,t,4)}function Kn(e,t){var n=e.getDay();return e=n>=4||n===0?Ue(e):Ue.ceil(e),U(e.getFullYear()%1e4,t,4)}function $n(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+U(t/60|0,"0",2)+U(t%60,"0",2)}function xt(e,t){return U(e.getUTCDate(),t,2)}function er(e,t){return U(e.getUTCHours(),t,2)}function tr(e,t){return U(e.getUTCHours()%12||12,t,2)}function nr(e,t){return U(1+lt.count(_e(e),e),t,3)}function It(e,t){return U(e.getUTCMilliseconds(),t,3)}function rr(e,t){return It(e,t)+"000"}function ar(e,t){return U(e.getUTCMonth()+1,t,2)}function or(e,t){return U(e.getUTCMinutes(),t,2)}function ir(e,t){return U(e.getUTCSeconds(),t,2)}function sr(e){var t=e.getUTCDay();return t===0?7:t}function ur(e,t){return U(Ht.count(_e(e)-1,e),t,2)}function Ot(e){var t=e.getUTCDay();return t>=4||t===0?Se(e):Se.ceil(e)}function lr(e,t){return e=Ot(e),U(Se.count(_e(e),e)+(_e(e).getUTCDay()===4),t,2)}function cr(e){return e.getUTCDay()}function fr(e,t){return U(Ge.count(_e(e)-1,e),t,2)}function mr(e,t){return U(e.getUTCFullYear()%100,t,2)}function gr(e,t){return e=Ot(e),U(e.getUTCFullYear()%100,t,2)}function hr(e,t){return U(e.getUTCFullYear()%1e4,t,4)}function vr(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Se(e):Se.ceil(e),U(e.getUTCFullYear()%1e4,t,4)}function yr(){return"+0000"}function Mt(){return"%"}function bt(e){return+e}function Dt(e){return Math.floor(+e/1e3)}var De,zt;dr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dr(e){return De=dn(e),zt=De.format,De.parse,De.utcFormat,De.utcParse,De}function pr(e){return new Date(e)}function Tr(e){return e instanceof Date?+e:+new Date(+e)}function Nt(e,t,n,r,s,a,u,f,y,v){var _=Vt(),b=_.invert,p=_.domain,S=v(".%L"),k=v(":%S"),L=v("%I:%M"),q=v("%I %p"),x=v("%a %d"),Y=v("%b %d"),H=v("%B"),I=v("%Y");function M(c){return(y(c)<c?S:f(c)<c?k:u(c)<c?L:a(c)<c?q:r(c)<c?s(c)<c?x:Y:n(c)<c?H:I)(c)}return _.invert=function(c){return new Date(b(c))},_.domain=function(c){return arguments.length?p(Array.from(c,Tr)):p().map(pr)},_.ticks=function(c){var d=p();return e(d[0],d[d.length-1],c??10)},_.tickFormat=function(c,d){return d==null?M:v(d)},_.nice=function(c){var d=p();return(!c||typeof c.range!="function")&&(c=t(d[0],d[d.length-1],c??10)),c?p(en(d,c)):_},_.copy=function(){return Et(_,Nt(e,t,n,r,s,a,u,f,y,v))},_}function _r(){return kt.apply(Nt(vn,yn,fe,ct,Ve,Ae,ut,st,Ce,zt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const xr=!0,va=Object.freeze(Object.defineProperty({__proto__:null,prerender:xr},Symbol.toStringTag,{value:"Module"}));var Mr=V('<path class="ct svelte-sstzq3"></path>'),br=V('<rect class="box svelte-sstzq3" width="50" height="12" y="30"></rect>'),Dr=V('<text class="label legend svelte-sstzq3" y="55" text-anchor="middle"> </text>'),wr=Ye('<div class="map-inner-container svelte-sstzq3"><svg><defs><pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#cccccc" stroke-width="1"></path></pattern></defs><text class="label svelte-sstzq3" x="5" y="22"> </text><!><!><!></svg></div>');function Pe(e,t){je(t,!0);const n=[Ne.pct_imm[0],Ne.pct_imm[2],Ne.pct_imm[4],Ne.pct_imm[6],"#4b0f5c"],r={1961:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:14.85,notImmDist:19.51,popDist:17.98},1981:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:23.62,notImmDist:31.35,popDist:28.61},2001:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:26.68,notImmDist:35.81,popDist:32.01},2021:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:31.58,notImmDist:36.18,popDist:34.15}};let s=mt(null),a=mt(null),u=be(()=>o(a)),f=be(()=>o(u)/1.55),y=be(()=>o(u)<=500?25:30),v=be(()=>o(u)<=500?85:100),_=be(()=>$t().center([-79.4,43.7]).scale([o(u)*o(y)]).translate([o(u)/2-50,o(f)/2+o(v)]).angle([-30])),b=be(()=>Kt(o(_)));Lt().domain(r[t.curYear].breaks).range(n);function p(M){return M===null?"url(#diagonalHatch)":M<15?n[0]:M<30?n[1]:M<45?n[2]:M<60?n[3]:n[4]}function S(){const M=`/gta-immigration/data/immigration/imm_stats_${t.curYear}.geojson`;fetch(M).then(c=>c.json()).then(c=>{c.features=c.features.map((d,W)=>(d.id||(d.id=W),d)),c.features=c.features.map(d=>(d.properties.colour=p(d.properties.pct_imm),d)),N(s,c.features)})}ot(()=>{S()});var k=wr(),L=P(k),q=C(P(L)),x=P(q,!0);F(q);var Y=C(q);te(Y,17,()=>o(s),ne,(M,c)=>{var d=Mr();Q(W=>{g(d,"d",W),g(d,"fill",o(c).properties.colour),g(d,"stroke",o(c).properties.colour)},[()=>o(b)(o(c))]),O(M,d)});var H=C(Y);te(H,17,()=>n,ne,(M,c,d)=>{var W=br();g(W,"x",5+d*50),Q(()=>g(W,"style",`fill:${n[d]??""}; stroke: white;`)),O(M,W)});var I=C(H);te(I,17,()=>r[t.curYear].breaks,ne,(M,c,d)=>{var W=Dr();g(W,"x",5+(d+1)*50);var $=P(W,!0);F(W),Q(()=>Te($,r[t.curYear].breaks[d]+r[t.curYear].breakSuffix)),O(M,W)}),F(L),F(k),Q(()=>{g(L,"width",o(u)),g(L,"height",o(f)),g(L,"id",t.curYear),Te(x,r[t.curYear].name)}),at(k,"offsetWidth",M=>N(a,M)),O(e,k),Je()}var Cr=Ye('<div class="container plots-title"><h4>Immigrants used to settle in downtown Toronto, but over time increasingly settle in the suburbs</h4> <p>Percentage of population that are immigrants per census tract</p></div> <div class="map-grid svelte-1r85na6"><div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div></div>',1);function Ur(e){var t=Cr(),n=C(Qe(t),2),r=P(n),s=P(r);Pe(s,{curYear:1961}),F(r);var a=C(r,2),u=P(a);Pe(u,{curYear:1981}),F(a);var f=C(a,2),y=P(f);Pe(y,{curYear:2001}),F(f);var v=C(f,2),_=P(v);Pe(_,{curYear:2021}),F(v),F(n),O(e,t)}var Sr=V('<line stroke="#e0e0e0" stroke-width="1"></line>'),Yr=V('<text class="tick-label svelte-1hoa6e4" text-anchor="middle" font-size="12"> </text>'),kr=V('<text class="tick-label svelte-1hoa6e4" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Fr=V('<svg><g><!><g></g><g></g><text class="axis-label svelte-1hoa6e4" text-anchor="middle" font-size="12">Average distance (km)</text><path fill="none" stroke="#F1C500" stroke-width="4"></path><path fill="none" stroke="#0D534D" stroke-width="4"></path><text class="line-label svelte-1hoa6e4" fill="#F1C500" font-weight="bold" text-anchor="middle" font-size="12">Immigrant</text><text class="line-label svelte-1hoa6e4" fill="#0D534D" font-weight="bold" text-anchor="middle" font-size="12">Non-immigrant</text></g></svg>'),Lr=Ye(`<div class="container plots-title"><h4>Immigrants followed non-immigrants by settling in the suburbs</h4> <p>Average distance of immigrants and non-immigrants from Toronto's city center</p></div> <div class="chart-container svelte-1hoa6e4"><!></div>`,1);function Hr(e,t){je(t,!1);const n=R(),r=R(),s=R(),a=R(),u=R(),f=R(),y=R();let v=R(600);const _=250,b={top:30,right:30,bottom:50,left:50};let p=R([]);ot(async()=>{const H=(await(await fetch("/gta-immigration/data/immigration_analysis/pop_dists.csv")).text()).split(`
`).slice(1);N(p,H.filter(I=>I.trim()!=="").map(I=>{const[M,c,d,W,$,X,re]=I.split(",");return{year:+M,imm:+c,not_imm:+d,pop:+W,imm_new:$?+$:null,vm:X?+X:null,imm_2nd:re?+re:null}}))}),J(()=>o(v),()=>{N(n,o(v)-b.left-b.right)}),J(()=>{},()=>{N(r,_-b.top-b.bottom)}),J(()=>(o(p),o(n)),()=>{N(s,_r().domain([new Date(Math.min(...o(p).map(x=>x.year))),new Date(Math.max(...o(p).map(x=>x.year)))]).range([0,o(n)]))}),J(()=>o(r),()=>{N(a,nt().domain([0,40]).range([o(r),0]))}),J(()=>(o(s),o(a)),()=>{N(u,Ft().x(x=>o(s)(new Date(x.year))).y(x=>o(a)(x.value)))}),J(()=>o(p),()=>{N(f,o(p).map(x=>({year:x.year,value:x.imm})))}),J(()=>o(p),()=>{N(y,o(p).map(x=>({year:x.year,value:x.not_imm})))}),Yt(),rt();var S=Lr(),k=C(Qe(S),2),L=P(k);{var q=x=>{var Y=Fr();g(Y,"height",_);var H=P(Y),I=P(H);te(I,0,()=>[0,10,20,30,40],ne,(K,T)=>{var D=Sr();g(D,"x1",0),Q(G=>{g(D,"y1",G),g(D,"x2",o(n)),g(D,"y2",G)},[()=>o(a)(T)],ae),O(K,D)});var M=C(I);te(M,5,()=>o(p).filter(K=>K.year%10===1),ne,(K,T)=>{var D=Yr();g(D,"y",20);var G=P(D,!0);F(D),Q(B=>{g(D,"x",B),Te(G,o(T).year)},[()=>o(s)(new Date(o(T).year))],ae),O(K,D)}),F(M);var c=C(M);te(c,4,()=>[0,10,20,30,40],ne,(K,T)=>{var D=kr();g(D,"x",-10);var G=P(D,!0);F(D),Q(B=>{g(D,"y",B),Te(G,T)},[()=>o(a)(T)],ae),O(K,D)}),F(c);var d=C(c);g(d,"x",-30);var W=C(d),$=C(W),X=C($),re=C(X);F(H),F(Y),Q((K,T,D,G,B,ee)=>{g(Y,"width",o(v)),g(H,"transform",`translate(${b.left},${b.top})`),g(M,"transform",`translate(0,${o(r)})`),g(d,"y",o(r)/2),g(d,"transform",`rotate(-90, -30, ${o(r)/2})`),g(W,"d",K),g($,"d",T),g(X,"x",D),g(X,"y",G),g(re,"x",B),g(re,"y",ee)},[()=>o(u)(o(f)),()=>o(u)(o(y)),()=>o(s)(new Date(2001)),()=>o(a)(23),()=>o(s)(new Date(1981)),()=>o(a)(34)],ae),O(x,Y)};we(L,x=>{o(p).length>0&&x(q)})}F(k),at(k,"clientWidth",x=>N(v,x)),O(e,S),Je()}function wt(e,t){return Wr(e)||Ar(e,t)||Ir()}function Wr(e){if(Array.isArray(e))return e}function Ar(e,t){var n=[],r=!0,s=!1,a=void 0;try{for(var u=e[Symbol.iterator](),f;!(r=(f=u.next()).done)&&(n.push(f.value),!(t&&n.length===t));r=!0);}catch(y){s=!0,a=y}finally{try{!r&&u.return!=null&&u.return()}finally{if(s)throw a}}return n}function Ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Or(e,t,n,r){e=e.filter(function(k,L){var q=t(k,L),x=n(k,L);return q!=null&&isFinite(q)&&x!=null&&isFinite(x)}),e.sort(function(k,L){return t(k)-t(L)});for(var s=e.length,a=new Float64Array(s),u=new Float64Array(s),f=0,y=0,v,_,b,p=0;p<s;)b=e[p],a[p]=v=+t(b,p,e),u[p]=_=+n(b,p,e),++p,f+=(v-f)/p,y+=(_-y)/p;for(var S=0;S<s;++S)a[S]-=f,u[S]-=y;return[a,u,f,y]}function zr(e,t,n,r){var s=r-e*e,a=Math.abs(s)<1e-24?0:(n-e*t)/s,u=t-a*e;return[u,a]}function Nr(e){e.sort(function(n,r){return n-r});var t=e.length/2;return t%1===0?(e[t-1]+e[t])/2:e[Math.floor(t)]}var Ct=2,Ut=1e-12;function St(){var e=function(a){return a[0]},t=function(a){return a[1]},n=.3;function r(s){for(var a=Or(s,e,t),u=wt(a,4),f=u[0],y=u[1],v=u[2],_=u[3],b=f.length,p=Math.max(2,~~(n*b)),S=new Float64Array(b),k=new Float64Array(b),L=new Float64Array(b).fill(1),q=-1;++q<=Ct;){for(var x=[0,p-1],Y=0;Y<b;++Y){for(var H=f[Y],I=x[0],M=x[1],c=H-f[I]>f[M]-H?I:M,d=0,W=0,$=0,X=0,re=0,K=1/Math.abs(f[c]-H||1),T=I;T<=M;++T){var D=f[T],G=y[T],B=Pr(Math.abs(H-D)*K)*L[T],ee=D*B;d+=B,W+=ee,$+=G*B,X+=G*ee,re+=D*ee}var me=zr(W/d,$/d,X/d,re/d),ge=wt(me,2),he=ge[0],de=ge[1];S[Y]=he+de*H,k[Y]=Math.abs(y[Y]-S[Y]),Rr(f,Y+1,x)}if(q===Ct)break;var ve=Nr(k);if(Math.abs(ve)<Ut)break;for(var ie=0,ye,pe;ie<b;++ie)ye=k[ie]/(6*ve),L[ie]=ye>=1?Ut:(pe=1-ye*ye)*pe}return qr(f,S,v,_)}return r.bandwidth=function(s){return arguments.length?(n=s,r):n},r.x=function(s){return arguments.length?(e=s,r):e},r.y=function(s){return arguments.length?(t=s,r):t},r}function Pr(e){return(e=1-e*e*e)*e*e}function Rr(e,t,n){var r=e[t],s=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>s&&e[a]-r<=r-e[s];)n[0]=++s,n[1]=a,++a}function qr(e,t,n,r){for(var s=e.length,a=[],u=0,f=0,y=[],v;u<s;++u)v=e[u]+n,y[0]===v?y[1]+=(t[u]-y[1])/++f:(f=0,y[1]+=r,y=[v,t[u]],a.push(y));return y[1]+=r,a}var Zr=V('<line stroke="#e0e0e0" stroke-width="1"></line>'),Gr=V('<text text-anchor="middle" font-size="12"> </text>'),jr=V('<g class="location-labels"><!><!></g>'),Jr=V('<line stroke="#e0e0e0" stroke-width="1"></line>'),Qr=V('<line stroke="#e0e0e0" stroke-width="1"></line>'),Vr=V('<text class="tick-label svelte-1315hmd" text-anchor="middle" font-size="12"> </text>'),Er=V("<g></g>"),Xr=V('<text class="tick-label svelte-1315hmd" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Br=V('<text class="axis-label svelte-1315hmd" text-anchor="middle" font-size="12">Population</text>'),Kr=V('<text class="axis-label svelte-1315hmd" text-anchor="middle" font-size="12">Distance (km)</text>'),$r=V('<svg><g><!><!><!><!><g></g><!><!><path fill="none" stroke="#0D534D" stroke-width="2"></path><path fill="none" stroke="#F1C500" stroke-width="2"></path></g></svg>'),ea=Ye('<div class="chart-container svelte-1315hmd"><!></div>');function Re(e,t){je(t,!1);const n=R(),r=R(),s=R(),a=R(),u=R(),f=R(),y=R(),v=R(),_=R(),b=R(),p=R();let S=Fe(t,"year",8),k=Fe(t,"showYAxisLabel",8,!1),L=Fe(t,"showXAxisLabel",8,!1),q=Fe(t,"showXAxisTicks",8,!1),x=Fe(t,"showLocationLabels",8,!1),Y=R(600);const H=125,I=20,M={top:20,right:30,bottom:20,left:50};let c=R([]);const d=[{start:0,end:10,label:"Old Toronto"},{start:10,end:20,label:"Inner Suburbs"},{start:20,end:30,label:"Outer Suburbs"},{start:30,end:50,label:"Exurbs"}];function W(T){return!o(n)||T==="Exurbs"?[T]:T.split(" ")}function $(T,D){return o(n)?T==="Exurbs"?-19:D===0?-25:-13:-9}ot(async()=>{const B=(await(await fetch(`/gta-immigration/data/immigration_analysis/imm_dist_${S()}.csv`)).text()).split(`
`).slice(1).filter(ee=>ee.trim()!=="").map(ee=>{const[me,ge,he,de]=ee.split(",");return{dist_km:+me,num_not_imm_tot:+he,num_imm_tot:+de}});N(c,[{dist_km:0,num_not_imm_tot:0,num_imm_tot:0},...B])}),J(()=>o(Y),()=>{N(n,o(Y)<=600)}),J(()=>o(n),()=>{N(r,o(n)?40:20)}),J(()=>(ze(L()),ze(x()),o(r)),()=>{N(s,(L()?H+I:H)+(x()?o(r):0))}),J(()=>(ze(x()),o(r),ze(L())),()=>{N(a,{...M,top:x()?M.top+o(r):M.top,bottom:L()?M.bottom+I:M.bottom})}),J(()=>(o(Y),o(a)),()=>{N(u,o(Y)-o(a).left-o(a).right)}),J(()=>(o(s),o(a)),()=>{N(f,o(s)-o(a).top-o(a).bottom)}),J(()=>o(u),()=>{N(y,nt().domain([0,50]).range([0,o(u)]))}),J(()=>o(f),()=>{N(v,nt().domain([0,6e4]).range([o(f),0]))}),J(()=>o(c),()=>{N(_,St().x(T=>T.dist_km).y(T=>T.num_not_imm_tot).bandwidth(.3)(o(c)))}),J(()=>o(c),()=>{N(b,St().x(T=>T.dist_km).y(T=>T.num_imm_tot).bandwidth(.3)(o(c)))}),J(()=>(o(y),o(v)),()=>{N(p,Ft().x(T=>o(y)(T[0])).y(T=>o(v)(T[1])))}),Yt(),rt();var X=ea(),re=P(X);{var K=T=>{var D=$r(),G=P(D),B=P(G);{var ee=l=>{var m=jr(),h=P(m);te(h,0,()=>[10,20,30],ne,(A,w)=>{var z=Zr();g(z,"y1",-5),Q(j=>{g(z,"x1",j),g(z,"x2",j),g(z,"y2",o(n)?-40:-20)},[()=>o(y)(w)],ae),O(A,z)});var i=C(h);te(i,1,()=>d,ne,(A,w)=>{var z=Gt();const j=ae(()=>W(o(w).label));var se=Qe(z);te(se,1,()=>o(j),ne,(Oe,ft,Pt)=>{var ke=Gr(),Rt=P(ke,!0);F(ke),Q((qt,Zt)=>{g(ke,"x",qt),g(ke,"y",Zt),Te(Rt,o(ft))},[()=>o(y)((o(w).start+o(w).end)/2),()=>$(o(ft),Pt)],ae),O(Oe,ke)}),O(A,z)}),F(m),O(l,m)};we(B,l=>{x()&&l(ee)})}var me=C(B);te(me,0,()=>[0,3e4,6e4],ne,(l,m)=>{var h=Jr();g(h,"x1",0),Q(i=>{g(h,"y1",i),g(h,"x2",o(u)),g(h,"y2",i)},[()=>o(v)(m)],ae),O(l,h)});var ge=C(me);te(ge,0,()=>[10,20,30,40],ne,(l,m)=>{var h=Qr();g(h,"y1",5),Q(i=>{g(h,"x1",i),g(h,"x2",i),g(h,"y2",o(f)-5)},[()=>o(y)(m)],ae),O(l,h)});var he=C(ge);{var de=l=>{var m=Er();te(m,4,()=>[0,10,20,30,40,50],ne,(h,i)=>{var A=Vr();g(A,"y",15);var w=P(A,!0);F(A),Q(z=>{g(A,"x",z),Te(w,i)},[()=>o(y)(i)],ae),O(h,A)}),F(m),Q(()=>g(m,"transform",`translate(0,${o(f)})`)),O(l,m)};we(he,l=>{q()&&l(de)})}var ve=C(he);te(ve,4,()=>[0,3e4,6e4],ne,(l,m)=>{var h=Xr();g(h,"x",-10);var i=P(h,!0);F(h),Q(A=>{g(h,"y",A),Te(i,m===0?"0":m/1e3+"K")},[()=>o(v)(m)],ae),O(l,h)}),F(ve);var ie=C(ve);{var ye=l=>{var m=Br();g(m,"x",-40),Q(()=>{g(m,"y",o(f)/2),g(m,"transform",`rotate(-90, -40, ${o(f)/2})`)}),O(l,m)};we(ie,l=>{k()&&l(ye)})}var pe=C(ie);{var Ee=l=>{var m=Kr();Q(()=>{g(m,"x",o(u)/2),g(m,"y",o(f)+35)}),O(l,m)};we(pe,l=>{L()&&l(Ee)})}var Ie=C(pe),Xe=C(Ie);F(G),F(D),Q((l,m)=>{g(D,"width",o(Y)),g(D,"height",o(s)),g(G,"transform",`translate(${o(a).left},${o(a).top})`),g(Ie,"d",l),g(Xe,"d",m)},[()=>o(p)(o(_)),()=>o(p)(o(b))],ae),O(T,D)};we(re,T=>{o(c).length>0&&T(K)})}F(X),at(X,"clientWidth",T=>N(Y,T)),O(e,X),Je()}var ta=Ye('<div class="container plots-title"><h4>Title</h4> <p>Subtitle</p></div> <div><!> <!> <!> <!></div>',1);function na(e){var t=ta(),n=C(Qe(t),2),r=P(n);Re(r,{year:1961,showYAxisLabel:!0,showLocationLabels:!0});var s=C(r,2);Re(s,{year:1981});var a=C(s,2);Re(a,{year:2001});var u=C(a,2);Re(u,{year:2021,showXAxisLabel:!0,showXAxisTicks:!0}),F(n),O(e,t)}var ra=Ye(`<main><!> <div class="title"><h1>The Suburbanization of Immigration in the Greater Toronto Area</h1> <p>Aniket Kali,
            Serene Tan,
            Jeff Allen
            |
            June 2025</p></div> <div class="text"><p>introduction...</p></div> <!> <div class="text"><h2>How do immigrants compare to the general population?</h2> <p>information...</p></div> <!> <!> <div class="text"><p>explanation...</p> <p>conclusion...</p></div> <div class="text"><br> <br> <div class="footnotes"><h3>Data & Methods</h3></div></div> <div class="text"><!></div></main>`);function ya(e,t){je(t,!1);const n=Bt(),{footnotes:r}=n;rt();var s=ra(),a=P(s);jt(a,{});var u=C(a,6);Ur(u);var f=C(u,4);Hr(f,{});var y=C(f,2);na(y);var v=C(y,6),_=P(v);Xt(_,{footnotes:r}),F(v),F(s),O(e,s),Je()}export{ya as component,va as universal};
