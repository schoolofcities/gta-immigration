import{t as Yt,a as L,n as j,c as Xe}from"../chunks/BK7Wmniv.js";import"../chunks/BiDEo7bR.js";import{B as Jt,C as E,D as Qt,F as M,y as W,L as H,z as S,g as a,ax as ve,f as wt,w as Vt,as as Z,at as Se,au as I,_ as at,e as Pt}from"../chunks/Fxx0eZ4n.js";import{i as ie}from"../chunks/DJIllxwD.js";import{b as se,s as l,T as Ee}from"../chunks/DV5cpcdT.js";import{s as yt}from"../chunks/CJGlZdPQ.js";import{k as ke,m as je,o as Je,t as _e,q as Qe,s as Ve,b as qt,a as tt,i as et,l as oe,u as lt,F as Be,j as Ke}from"../chunks/D5pHiyzw.js";import{o as ue}from"../chunks/B_3djCp6.js";import{g as $e,a as tn}from"../chunks/BZRyRBhv.js";import{i as Ct,p as Ht}from"../chunks/sL20XP9V.js";import{l as Gt}from"../chunks/CjWAwAWE.js";function en(t,e){t=t.slice();var n=0,r=t.length-1,u=t[n],i=t[r],s;return i<u&&(s=n,n=r,r=s,s=u,u=i,i=s),t[n]=e.floor(u),t[r]=e.ceil(i),t}function Ye(){var t=[.5],e=[0,1],n,r=1;function u(i){return i!=null&&i<=i?e[je(t,i,0,r)]:n}return u.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),u):t.slice()},u.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),u):e.slice()},u.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},u.unknown=function(i){return arguments.length?(n=i,u):n},u.copy=function(){return Ye().domain(t).range(e).unknown(n)},ke.apply(u,arguments)}const te=new Date,ee=new Date;function R(t,e,n,r){function u(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return u.floor=i=>(t(i=new Date(+i)),i),u.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),u.round=i=>{const s=u(i),g=u.ceil(i);return i-s<g-i?s:g},u.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),u.range=(i,s,g)=>{const T=[];if(i=u.ceil(i),g=g==null?1:Math.floor(g),!(i<s)||!(g>0))return T;let h;do T.push(h=new Date(+i)),e(i,g),t(i);while(h<i&&i<s);return T},u.filter=i=>R(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,g)=>{if(s>=s)if(g<0)for(;++g<=0;)for(;e(s,-1),!i(s););else for(;--g>=0;)for(;e(s,1),!i(s););}),n&&(u.count=(i,s)=>(te.setTime(+i),ee.setTime(+s),t(te),t(ee),Math.floor(n(te,ee))),u.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?u.filter(r?s=>r(s)%i===0:s=>u.count(0,s)%i===0):u)),u}const Xt=R(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xt.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?R(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xt);Xt.range;const ct=1e3,ot=ct*60,mt=ot*60,ft=mt*24,le=ft*7,de=ft*30,ne=ft*365,Ut=R(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ct)},(t,e)=>(e-t)/ct,t=>t.getUTCSeconds());Ut.range;const ce=R(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ct)},(t,e)=>{t.setTime(+t+e*ot)},(t,e)=>(e-t)/ot,t=>t.getMinutes());ce.range;const nn=R(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ot)},(t,e)=>(e-t)/ot,t=>t.getUTCMinutes());nn.range;const me=R(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ct-t.getMinutes()*ot)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getHours());me.range;const rn=R(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getUTCHours());rn.range;const Ot=R(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ot)/ft,t=>t.getDate()-1);Ot.range;const fe=R(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ft,t=>t.getUTCDate()-1);fe.range;const an=R(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ft,t=>Math.floor(t/ft));an.range;function Tt(t){return R(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ot)/le)}const Bt=Tt(0),Et=Tt(1),on=Tt(2),sn=Tt(3),St=Tt(4),un=Tt(5),ln=Tt(6);Bt.range;Et.range;on.range;sn.range;St.range;un.range;ln.range;function Mt(t){return R(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/le)}const Fe=Mt(0),jt=Mt(1),cn=Mt(2),mn=Mt(3),kt=Mt(4),fn=Mt(5),hn=Mt(6);Fe.range;jt.range;cn.range;mn.range;kt.range;fn.range;hn.range;const he=R(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());he.range;const gn=R(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gn.range;const ht=R(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ht.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:R(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ht.range;const xt=R(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:R(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xt.range;function vn(t,e,n,r,u,i){const s=[[Ut,1,ct],[Ut,5,5*ct],[Ut,15,15*ct],[Ut,30,30*ct],[i,1,ot],[i,5,5*ot],[i,15,15*ot],[i,30,30*ot],[u,1,mt],[u,3,3*mt],[u,6,6*mt],[u,12,12*mt],[r,1,ft],[r,2,2*ft],[n,1,le],[e,1,de],[e,3,3*de],[t,1,ne]];function g(h,x,z){const k=x<h;k&&([h,x]=[x,h]);const D=z&&typeof z.range=="function"?z:T(h,x,z),G=D?D.range(h,+x+1):[];return k?G.reverse():G}function T(h,x,z){const k=Math.abs(x-h)/z,D=Je(([,,B])=>B).right(s,k);if(D===s.length)return t.every(_e(h/ne,x/ne,z));if(D===0)return Xt.every(Math.max(_e(h,x,z),1));const[G,O]=s[k/s[D-1][2]<s[D][2]/k?D-1:D];return G.every(O)}return[g,T]}const[_n,dn]=vn(ht,he,Bt,Ot,me,ce);function re(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ae(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function pn(t){var e=t.dateTime,n=t.date,r=t.time,u=t.periods,i=t.days,s=t.shortDays,g=t.months,T=t.shortMonths,h=It(u),x=At(u),z=It(i),k=At(i),D=It(s),G=At(s),O=It(g),B=At(g),K=It(T),_=At(T),A={a:U,A:V,b:rt,B:_t,c:null,d:we,e:we,f:qn,g:Bn,G:$n,H:Nn,I:zn,j:Pn,L:Le,m:Zn,M:Rn,p:vt,q:dt,Q:Ce,s:Ue,S:Gn,u:Xn,U:En,V:jn,w:Jn,W:Qn,x:null,X:null,y:Vn,Y:Kn,Z:tr,"%":De},P={a:ut,A:Nt,b:Kt,B:zt,c:null,d:be,e:be,f:ar,g:gr,G:_r,H:er,I:nr,j:rr,L:We,m:or,M:ir,p:$t,q:Ft,Q:Ce,s:Ue,S:sr,u:ur,U:lr,V:cr,w:mr,W:fr,x:null,X:null,y:hr,Y:vr,Z:dr,"%":De},w={a:nt,A:$,b:st,B:gt,c:C,d:Te,e:Te,f:Wn,g:xe,G:ye,H:Me,I:Me,j:Yn,L:Hn,m:kn,M:Fn,p:it,q:Sn,Q:An,s:On,S:Ln,u:wn,U:bn,V:Dn,w:Mn,W:Cn,x:q,X:Q,y:xe,Y:ye,Z:Un,"%":In};A.x=c(n,A),A.X=c(r,A),A.c=c(e,A),P.x=c(n,P),P.X=c(r,P),P.c=c(e,P);function c(m,d){return function(f){var o=[],p=-1,y=0,F=m.length,N,X,pt;for(f instanceof Date||(f=new Date(+f));++p<F;)m.charCodeAt(p)===37&&(o.push(m.slice(y,p)),(X=pe[N=m.charAt(++p)])!=null?N=m.charAt(++p):X=N==="e"?" ":"0",(pt=d[N])&&(N=pt(f,X)),o.push(N),y=p+1);return o.push(m.slice(y,p)),o.join("")}}function v(m,d){return function(f){var o=Wt(1900,void 0,1),p=Y(o,m,f+="",0),y,F;if(p!=f.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(o.s*1e3+("L"in o?o.L:0));if(d&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+o.p*12),o.m===void 0&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(y=ae(Wt(o.y,0,1)),F=y.getUTCDay(),y=F>4||F===0?jt.ceil(y):jt(y),y=fe.offset(y,(o.V-1)*7),o.y=y.getUTCFullYear(),o.m=y.getUTCMonth(),o.d=y.getUTCDate()+(o.w+6)%7):(y=re(Wt(o.y,0,1)),F=y.getDay(),y=F>4||F===0?Et.ceil(y):Et(y),y=Ot.offset(y,(o.V-1)*7),o.y=y.getFullYear(),o.m=y.getMonth(),o.d=y.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),F="Z"in o?ae(Wt(o.y,0,1)).getUTCDay():re(Wt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+o.W*7-(F+5)%7:o.w+o.U*7-(F+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ae(o)):re(o)}}function Y(m,d,f,o){for(var p=0,y=d.length,F=f.length,N,X;p<y;){if(o>=F)return-1;if(N=d.charCodeAt(p++),N===37){if(N=d.charAt(p++),X=w[N in pe?d.charAt(p++):N],!X||(o=X(m,f,o))<0)return-1}else if(N!=f.charCodeAt(o++))return-1}return o}function it(m,d,f){var o=h.exec(d.slice(f));return o?(m.p=x.get(o[0].toLowerCase()),f+o[0].length):-1}function nt(m,d,f){var o=D.exec(d.slice(f));return o?(m.w=G.get(o[0].toLowerCase()),f+o[0].length):-1}function $(m,d,f){var o=z.exec(d.slice(f));return o?(m.w=k.get(o[0].toLowerCase()),f+o[0].length):-1}function st(m,d,f){var o=K.exec(d.slice(f));return o?(m.m=_.get(o[0].toLowerCase()),f+o[0].length):-1}function gt(m,d,f){var o=O.exec(d.slice(f));return o?(m.m=B.get(o[0].toLowerCase()),f+o[0].length):-1}function C(m,d,f){return Y(m,e,d,f)}function q(m,d,f){return Y(m,n,d,f)}function Q(m,d,f){return Y(m,r,d,f)}function U(m){return s[m.getDay()]}function V(m){return i[m.getDay()]}function rt(m){return T[m.getMonth()]}function _t(m){return g[m.getMonth()]}function vt(m){return u[+(m.getHours()>=12)]}function dt(m){return 1+~~(m.getMonth()/3)}function ut(m){return s[m.getUTCDay()]}function Nt(m){return i[m.getUTCDay()]}function Kt(m){return T[m.getUTCMonth()]}function zt(m){return g[m.getUTCMonth()]}function $t(m){return u[+(m.getUTCHours()>=12)]}function Ft(m){return 1+~~(m.getUTCMonth()/3)}return{format:function(m){var d=c(m+="",A);return d.toString=function(){return m},d},parse:function(m){var d=v(m+="",!1);return d.toString=function(){return m},d},utcFormat:function(m){var d=c(m+="",P);return d.toString=function(){return m},d},utcParse:function(m){var d=v(m+="",!0);return d.toString=function(){return m},d}}}var pe={"-":"",_:" ",0:"0"},J=/^\s*\d+/,yn=/^%/,xn=/[\\^$*+?|[\]().{}]/g;function b(t,e,n){var r=t<0?"-":"",u=(r?-t:t)+"",i=u.length;return r+(i<n?new Array(n-i+1).join(e)+u:u)}function Tn(t){return t.replace(xn,"\\$&")}function It(t){return new RegExp("^(?:"+t.map(Tn).join("|")+")","i")}function At(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mn(t,e,n){var r=J.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wn(t,e,n){var r=J.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bn(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Dn(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cn(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=J.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xe(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Un(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sn(t,e,n){var r=J.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kn(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Te(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yn(t,e,n){var r=J.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Me(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fn(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ln(t,e,n){var r=J.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hn(t,e,n){var r=J.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wn(t,e,n){var r=J.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function In(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function An(t,e,n){var r=J.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function On(t,e,n){var r=J.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function we(t,e){return b(t.getDate(),e,2)}function Nn(t,e){return b(t.getHours(),e,2)}function zn(t,e){return b(t.getHours()%12||12,e,2)}function Pn(t,e){return b(1+Ot.count(ht(t),t),e,3)}function Le(t,e){return b(t.getMilliseconds(),e,3)}function qn(t,e){return Le(t,e)+"000"}function Zn(t,e){return b(t.getMonth()+1,e,2)}function Rn(t,e){return b(t.getMinutes(),e,2)}function Gn(t,e){return b(t.getSeconds(),e,2)}function Xn(t){var e=t.getDay();return e===0?7:e}function En(t,e){return b(Bt.count(ht(t)-1,t),e,2)}function He(t){var e=t.getDay();return e>=4||e===0?St(t):St.ceil(t)}function jn(t,e){return t=He(t),b(St.count(ht(t),t)+(ht(t).getDay()===4),e,2)}function Jn(t){return t.getDay()}function Qn(t,e){return b(Et.count(ht(t)-1,t),e,2)}function Vn(t,e){return b(t.getFullYear()%100,e,2)}function Bn(t,e){return t=He(t),b(t.getFullYear()%100,e,2)}function Kn(t,e){return b(t.getFullYear()%1e4,e,4)}function $n(t,e){var n=t.getDay();return t=n>=4||n===0?St(t):St.ceil(t),b(t.getFullYear()%1e4,e,4)}function tr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+b(e/60|0,"0",2)+b(e%60,"0",2)}function be(t,e){return b(t.getUTCDate(),e,2)}function er(t,e){return b(t.getUTCHours(),e,2)}function nr(t,e){return b(t.getUTCHours()%12||12,e,2)}function rr(t,e){return b(1+fe.count(xt(t),t),e,3)}function We(t,e){return b(t.getUTCMilliseconds(),e,3)}function ar(t,e){return We(t,e)+"000"}function or(t,e){return b(t.getUTCMonth()+1,e,2)}function ir(t,e){return b(t.getUTCMinutes(),e,2)}function sr(t,e){return b(t.getUTCSeconds(),e,2)}function ur(t){var e=t.getUTCDay();return e===0?7:e}function lr(t,e){return b(Fe.count(xt(t)-1,t),e,2)}function Ie(t){var e=t.getUTCDay();return e>=4||e===0?kt(t):kt.ceil(t)}function cr(t,e){return t=Ie(t),b(kt.count(xt(t),t)+(xt(t).getUTCDay()===4),e,2)}function mr(t){return t.getUTCDay()}function fr(t,e){return b(jt.count(xt(t)-1,t),e,2)}function hr(t,e){return b(t.getUTCFullYear()%100,e,2)}function gr(t,e){return t=Ie(t),b(t.getUTCFullYear()%100,e,2)}function vr(t,e){return b(t.getUTCFullYear()%1e4,e,4)}function _r(t,e){var n=t.getUTCDay();return t=n>=4||n===0?kt(t):kt.ceil(t),b(t.getUTCFullYear()%1e4,e,4)}function dr(){return"+0000"}function De(){return"%"}function Ce(t){return+t}function Ue(t){return Math.floor(+t/1e3)}var bt,Ae;pr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pr(t){return bt=pn(t),Ae=bt.format,bt.parse,bt.utcFormat,bt.utcParse,bt}function yr(t){return new Date(t)}function xr(t){return t instanceof Date?+t:+new Date(+t)}function Oe(t,e,n,r,u,i,s,g,T,h){var x=Qe(),z=x.invert,k=x.domain,D=h(".%L"),G=h(":%S"),O=h("%I:%M"),B=h("%I %p"),K=h("%a %d"),_=h("%b %d"),A=h("%B"),P=h("%Y");function w(c){return(T(c)<c?D:g(c)<c?G:s(c)<c?O:i(c)<c?B:r(c)<c?u(c)<c?K:_:n(c)<c?A:P)(c)}return x.invert=function(c){return new Date(z(c))},x.domain=function(c){return arguments.length?k(Array.from(c,xr)):k().map(yr)},x.ticks=function(c){var v=k();return t(v[0],v[v.length-1],c??10)},x.tickFormat=function(c,v){return v==null?w:h(v)},x.nice=function(c){var v=k();return(!c||typeof c.range!="function")&&(c=e(v[0],v[v.length-1],c??10)),c?k(en(v,c)):x},x.copy=function(){return Ve(x,Oe(t,e,n,r,u,i,s,g,T,h))},x}function Tr(){return ke.apply(Oe(_n,dn,ht,he,Bt,Ot,me,ce,Ut,Ae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ne(t,e){this._context=t,this._t=e}Ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dt(t){return new Ne(t,0)}const Mr=!0,sa=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mr},Symbol.toStringTag,{value:"Module"}));var wr=j('<path class="ct svelte-sstzq3"></path>'),br=j('<rect class="box svelte-sstzq3" width="50" height="12" y="30"></rect>'),Dr=j('<text class="label legend svelte-sstzq3" y="55" text-anchor="middle"> </text>'),Cr=Yt('<div class="map-inner-container svelte-sstzq3"><svg><defs><pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#cccccc" stroke-width="1"></path></pattern></defs><text class="label svelte-sstzq3" x="5" y="22"> </text><!><!><!></svg></div>');function Zt(t,e){Jt(e,!0);const n=[qt.pct_imm[0],qt.pct_imm[2],qt.pct_imm[4],qt.pct_imm[6],"#4b0f5c"],r={1961:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:14.85,notImmDist:19.51,popDist:17.98},1981:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:23.62,notImmDist:31.35,popDist:28.61},2001:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:26.68,notImmDist:35.81,popDist:32.01},2021:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:31.58,notImmDist:36.18,popDist:34.15}};let u=ve(null),i=ve(null),s=wt(()=>a(i)),g=wt(()=>a(s)/1.55),T=wt(()=>a(s)<=500?25:30),h=wt(()=>a(s)<=500?85:100),x=wt(()=>tn().center([-79.4,43.7]).scale([a(s)*a(T)]).translate([a(s)/2-50,a(g)/2+a(h)]).angle([-30])),z=wt(()=>$e(a(x)));Ye().domain(r[e.curYear].breaks).range(n);function k(w){return w===null?"url(#diagonalHatch)":w<15?n[0]:w<30?n[1]:w<45?n[2]:w<60?n[3]:n[4]}function D(){const w=`/gta-immigration/data/immigration/imm_stats_${e.curYear}.geojson`;fetch(w).then(c=>c.json()).then(c=>{c.features=c.features.map((v,Y)=>(v.id||(v.id=Y),v)),c.features=c.features.map(v=>(v.properties.colour=k(v.properties.pct_imm),v)),H(u,c.features)})}ue(()=>{D()});var G=Cr(),O=W(G),B=M(W(O)),K=W(B,!0);S(B);var _=M(B);tt(_,17,()=>a(u),et,(w,c)=>{var v=wr();E(Y=>{l(v,"d",Y),l(v,"fill",a(c).properties.colour),l(v,"stroke",a(c).properties.colour)},[()=>a(z)(a(c))]),L(w,v)});var A=M(_);tt(A,17,()=>n,et,(w,c,v)=>{var Y=br();l(Y,"x",5+v*50),E(()=>l(Y,"style",`fill:${n[v]??""}; stroke: white;`)),L(w,Y)});var P=M(A);tt(P,17,()=>r[e.curYear].breaks,et,(w,c,v)=>{var Y=Dr();l(Y,"x",5+(v+1)*50);var it=W(Y,!0);S(Y),E(()=>yt(it,r[e.curYear].breaks[v]+r[e.curYear].breakSuffix)),L(w,Y)}),S(O),S(G),E(()=>{l(O,"width",a(s)),l(O,"height",a(g)),l(O,"id",e.curYear),yt(K,r[e.curYear].name)}),se(G,"offsetWidth",w=>H(i,w)),L(t,G),Qt()}var Ur=Yt('<div class="container plots-title"><h4>Immigrants used to settle in downtown Toronto, but over time increasingly settle in the suburbs</h4> <p>Percentage of population that are immigrants per census tract</p></div> <div class="map-grid svelte-1r85na6"><div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div></div>',1);function Sr(t){var e=Ur(),n=M(Vt(e),2),r=W(n),u=W(r);Zt(u,{curYear:1961}),S(r);var i=M(r,2),s=W(i);Zt(s,{curYear:1981}),S(i);var g=M(i,2),T=W(g);Zt(T,{curYear:2001}),S(g);var h=M(g,2),x=W(h);Zt(x,{curYear:2021}),S(h),S(n),L(t,e)}var kr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Yr=j('<text class="tick-label svelte-1hoa6e4" text-anchor="middle" font-size="12"> </text>'),Fr=j('<text class="tick-label svelte-1hoa6e4" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Lr=j('<svg><g><!><g></g><g></g><text class="axis-label svelte-1hoa6e4" text-anchor="middle" font-size="12">Average distance (km)</text><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4"></path><text class="line-label svelte-1hoa6e4" font-weight="bold" text-anchor="middle" font-size="12">Immigrant</text><text class="line-label svelte-1hoa6e4" font-weight="bold" text-anchor="middle" font-size="12">Non-immigrant</text><text class="line-label svelte-1hoa6e4" font-weight="bold" text-anchor="middle" font-size="12">New immigrant</text></g></svg>'),Hr=Yt(`<div class="container plots-title"><h4>Immigrants followed non-immigrants by settling in the suburbs</h4> <p>Average distance of immigrants and non-immigrants from Toronto's city center</p></div> <div class="chart-container svelte-1hoa6e4"><!></div>`,1);function Wr(t,e){Jt(e,!1);const n=I(),r=I(),u=I(),i=I(),s=I(),g=I(),T=I(),h=I();let x=I(600);const z=250,k={top:30,right:30,bottom:50,left:50};let D=I([]);ue(async()=>{const P=(await(await fetch("/gta-immigration/data/immigration_analysis/pop_dists.csv")).text()).split(`
`).slice(1);H(D,P.filter(w=>w.trim()!=="").map(w=>{const[c,v,Y,it,nt,$,st]=w.split(",");return{year:+c,imm:+v,not_imm:+Y,pop:+it,imm_new:nt?+nt:null,vm:$?+$:null,imm_2nd:st?+st:null}}))}),Z(()=>a(x),()=>{H(n,a(x)-k.left-k.right)}),Z(()=>{},()=>{H(r,z-k.top-k.bottom)}),Z(()=>(a(D),a(n)),()=>{H(u,Tr().domain([new Date(Math.min(...a(D).map(_=>_.year))),new Date(Math.max(...a(D).map(_=>_.year)))]).range([0,a(n)]))}),Z(()=>a(r),()=>{H(i,oe().domain([0,40]).range([a(r),0]))}),Z(()=>(a(u),a(i)),()=>{H(s,Gt().x(_=>a(u)(new Date(_.year))).y(_=>a(i)(_.value)))}),Z(()=>a(D),()=>{H(g,a(D).map(_=>({year:_.year,value:_.imm})))}),Z(()=>a(D),()=>{H(T,a(D).map(_=>({year:_.year,value:_.not_imm})))}),Z(()=>a(D),()=>{H(h,a(D).map(_=>({year:_.year,value:_.imm_new})).filter(_=>_.value!==null))}),Se(),ie();var G=Hr(),O=M(Vt(G),2),B=W(O);{var K=_=>{var A=Lr();l(A,"height",z);var P=W(A),w=W(P);tt(w,0,()=>[0,10,20,30,40],et,(q,Q)=>{var U=kr();l(U,"x1",0),E(V=>{l(U,"y1",V),l(U,"x2",a(n)),l(U,"y2",V)},[()=>a(i)(Q)],at),L(q,U)});var c=M(w);tt(c,5,()=>a(D).filter(q=>q.year%10===1),et,(q,Q)=>{var U=Yr();l(U,"y",20);var V=W(U,!0);S(U),E(rt=>{l(U,"x",rt),yt(V,a(Q).year)},[()=>a(u)(new Date(a(Q).year))],at),L(q,U)}),S(c);var v=M(c);tt(v,4,()=>[0,10,20,30,40],et,(q,Q)=>{var U=Fr();l(U,"x",-10);var V=W(U,!0);S(U),E(rt=>{l(U,"y",rt),yt(V,Q)},[()=>a(i)(Q)],at),L(q,U)}),S(v);var Y=M(v);l(Y,"x",-30);var it=M(Y),nt=M(it),$=M(nt),st=M($),gt=M(st),C=M(gt);S(P),S(A),E((q,Q,U,V,rt,_t,vt,dt,ut)=>{l(A,"width",a(x)),l(P,"transform",`translate(${k.left},${k.top})`),l(c,"transform",`translate(0,${a(r)})`),l(Y,"y",a(r)/2),l(Y,"transform",`rotate(-90, -30, ${a(r)/2})`),l(it,"d",q),l(it,"stroke",lt.imm),l(nt,"d",Q),l(nt,"stroke",lt.not_imm),l($,"d",U),l($,"stroke",lt.new_imm),l(st,"x",V),l(st,"y",rt),l(st,"fill",lt.imm),l(gt,"x",_t),l(gt,"y",vt),l(gt,"fill",lt.not_imm),l(C,"x",dt),l(C,"y",ut),l(C,"fill",lt.new_imm)},[()=>a(s)(a(g)),()=>a(s)(a(T)),()=>a(s)(a(h)),()=>a(u)(new Date(1991)),()=>a(i)(27),()=>a(u)(new Date(1981)),()=>a(i)(34),()=>a(u)(new Date(2001)),()=>a(i)(19)],at),L(_,A)};Ct(B,_=>{a(D).length>0&&_(K)})}S(O),se(O,"clientWidth",_=>H(x,_)),L(t,G),Qt()}var Ir=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Ar=j('<text text-anchor="middle" font-size="12"> </text>'),Or=j('<g class="location-labels"><!><!></g>'),Nr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),zr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Pr=j('<text class="tick-label svelte-1315hmd" text-anchor="middle" font-size="12"> </text>'),qr=j("<g></g>"),Zr=j('<text class="tick-label svelte-1315hmd" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Rr=j('<text class="axis-label svelte-1315hmd" text-anchor="middle" font-size="12">Population</text>'),Gr=j('<text class="axis-label svelte-1315hmd" text-anchor="middle" font-size="12">Distance (km)</text>'),Xr=j('<svg><g><!><!><!><!><g></g><!><!><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path></g></svg>'),Er=Yt('<div class="chart-container svelte-1315hmd"><!></div>');function Rt(t,e){Jt(e,!1);const n=I(),r=I(),u=I(),i=I(),s=I(),g=I(),T=I(),h=I(),x=I(),z=I(),k=I();let D=Ht(e,"year",8),G=Ht(e,"showYAxisLabel",8,!1),O=Ht(e,"showXAxisLabel",8,!1),B=Ht(e,"showXAxisTicks",8,!1),K=Ht(e,"showLocationLabels",8,!1),_=I(600);const A=125,P=20,w={top:20,right:30,bottom:20,left:50};let c=I([]);const v=[{start:0,end:10,label:"Old Toronto"},{start:10,end:20,label:"Inner Suburbs"},{start:20,end:30,label:"Outer Suburbs"},{start:30,end:50,label:"Exurbs"}];function Y(C){return!a(n)||C==="Exurbs"?[C]:C.split(" ")}function it(C,q){return a(n)?C==="Exurbs"?-19:q===0?-25:-13:-9}ue(async()=>{const U=(await(await fetch(`/gta-immigration/data/immigration_analysis/imm_dist_${D()}.csv`)).text()).split(`
`).slice(1).filter(V=>V.trim()!=="").map(V=>{const[rt,_t,vt,dt,ut]=V.split(",");return{dist_km:+rt,num_not_imm_tot:+vt,num_imm_tot:+dt,num_imm_new:+ut}});H(c,[{dist_km:0,num_not_imm_tot:U[0].num_not_imm_tot,num_imm_tot:U[0].num_imm_tot,num_imm_new:U[0].num_imm_new},...U])});const nt=[0,4e4,8e4];Z(()=>a(_),()=>{H(n,a(_)<=600)}),Z(()=>a(n),()=>{H(r,a(n)?40:20)}),Z(()=>(Pt(O()),Pt(K()),a(r)),()=>{H(u,(O()?A+P:A)+(K()?a(r):0))}),Z(()=>(Pt(K()),a(r),Pt(O())),()=>{H(i,{...w,top:K()?w.top+a(r):w.top,bottom:O()?w.bottom+P:w.bottom})}),Z(()=>(a(_),a(i)),()=>{H(s,a(_)-a(i).left-a(i).right)}),Z(()=>(a(u),a(i)),()=>{H(g,a(u)-a(i).top-a(i).bottom)}),Z(()=>a(s),()=>{H(T,oe().domain([0,50]).range([0,a(s)]))}),Z(()=>a(g),()=>{H(h,oe().domain([0,nt[2]]).range([a(g),0]))}),Z(()=>(a(T),a(h),Dt),()=>{H(x,Gt().x(C=>a(T)(C.dist_km)).y(C=>a(h)(C.num_not_imm_tot)).curve(Dt))}),Z(()=>(a(T),a(h),Dt),()=>{H(z,Gt().x(C=>a(T)(C.dist_km)).y(C=>a(h)(C.num_imm_tot)).curve(Dt))}),Z(()=>(a(T),a(h),Dt),()=>{H(k,Gt().x(C=>a(T)(C.dist_km)).y(C=>a(h)(C.num_imm_new)).curve(Dt))}),Se(),ie();var $=Er(),st=W($);{var gt=C=>{var q=Xr(),Q=W(q),U=W(Q);{var V=f=>{var o=Or(),p=W(o);tt(p,0,()=>[10,20,30],et,(F,N)=>{var X=Ir();l(X,"y1",-5),E(pt=>{l(X,"x1",pt),l(X,"x2",pt),l(X,"y2",a(n)?-40:-20)},[()=>a(T)(N)],at),L(F,X)});var y=M(p);tt(y,1,()=>v,et,(F,N)=>{var X=Xe();const pt=at(()=>Y(a(N).label));var ze=Vt(X);tt(ze,1,()=>a(pt),et,(Pe,ge,qe)=>{var Lt=Ar(),Ze=W(Lt,!0);S(Lt),E((Re,Ge)=>{l(Lt,"x",Re),l(Lt,"y",Ge),yt(Ze,a(ge))},[()=>a(T)((a(N).start+a(N).end)/2),()=>it(a(ge),qe)],at),L(Pe,Lt)}),L(F,X)}),S(o),L(f,o)};Ct(U,f=>{K()&&f(V)})}var rt=M(U);tt(rt,1,()=>nt,et,(f,o)=>{var p=Nr();l(p,"x1",0),E(y=>{l(p,"y1",y),l(p,"x2",a(s)),l(p,"y2",y)},[()=>a(h)(a(o))],at),L(f,p)});var _t=M(rt);tt(_t,0,()=>[10,20,30,40],et,(f,o)=>{var p=zr();l(p,"y1",5),E(y=>{l(p,"x1",y),l(p,"x2",y),l(p,"y2",a(g)-5)},[()=>a(T)(o)],at),L(f,p)});var vt=M(_t);{var dt=f=>{var o=qr();tt(o,4,()=>[0,10,20,30,40,50],et,(p,y)=>{var F=Pr();l(F,"y",15);var N=W(F,!0);S(F),E(X=>{l(F,"x",X),yt(N,y)},[()=>a(T)(y)],at),L(p,F)}),S(o),E(()=>l(o,"transform",`translate(0,${a(g)})`)),L(f,o)};Ct(vt,f=>{B()&&f(dt)})}var ut=M(vt);tt(ut,5,()=>nt,et,(f,o)=>{var p=Zr();l(p,"x",-10);var y=W(p,!0);S(p),E(F=>{l(p,"y",F),yt(y,a(o)===0?"0":a(o)/1e3+"K")},[()=>a(h)(a(o))],at),L(f,p)}),S(ut);var Nt=M(ut);{var Kt=f=>{var o=Rr();l(o,"x",-40),E(()=>{l(o,"y",a(g)/2),l(o,"transform",`rotate(-90, -40, ${a(g)/2})`)}),L(f,o)};Ct(Nt,f=>{G()&&f(Kt)})}var zt=M(Nt);{var $t=f=>{var o=Gr();E(()=>{l(o,"x",a(s)/2),l(o,"y",a(g)+35)}),L(f,o)};Ct(zt,f=>{O()&&f($t)})}var Ft=M(zt),m=M(Ft),d=M(m);S(Q),S(q),E((f,o,p)=>{l(q,"width",a(_)),l(q,"height",a(u)),l(Q,"transform",`translate(${a(i).left},${a(i).top})`),l(Ft,"d",f),l(Ft,"stroke",lt.not_imm),l(m,"d",o),l(m,"stroke",lt.imm),l(d,"d",p),l(d,"stroke",lt.new_imm)},[()=>a(x)(a(c)),()=>a(z)(a(c)),()=>a(k)(a(c))],at),L(C,q)};Ct(st,C=>{a(c).length>0&&C(gt)})}S($),se($,"clientWidth",C=>H(_,C)),L(t,$),Qt()}var jr=Yt(`<div class="container plots-title"><h4>The suburbs host an increasing concentration of immigrants, while non-immigrants remain dispersed fairly equally</h4> <p>Number of immigrants and non-immigrants in 1km-bands away from Toronto's city center</p></div> <div><!> <!> <!> <!></div>`,1);function Jr(t){var e=jr(),n=M(Vt(e),2),r=W(n);Rt(r,{year:1961,showYAxisLabel:!0,showLocationLabels:!0});var u=M(r,2);Rt(u,{year:1981});var i=M(u,2);Rt(i,{year:2001});var s=M(i,2);Rt(s,{year:2021,showXAxisLabel:!0,showXAxisTicks:!0}),S(n),L(t,e)}var Qr=Yt(`<main><!> <div class="title"><h1>The Suburbanization of Immigration in the Greater Toronto Area</h1> <p>Aniket Kali,
            Serene Tan,
            Jeff Allen
            |
            June 2025</p></div> <div class="text"><p>introduction...</p></div> <!> <div class="text"><h2>How do immigrants compare to the general population?</h2> <p>information...</p></div> <!> <!> <div class="text"><p>explanation...</p> <p>conclusion...</p></div> <div class="text"><br> <br> <div class="footnotes"><h3>Data & Methods</h3></div></div> <div class="text"><!></div></main>`);function ua(t,e){Jt(e,!1);const n=Ke(),{footnotes:r}=n;ie();var u=Qr(),i=W(u);Ee(i,{});var s=M(i,6);Sr(s);var g=M(s,4);Wr(g,{});var T=M(g,2);Jr(T);var h=M(T,6),x=W(h);Be(x,{footnotes:r}),S(h),S(u),L(t,u),Qt()}export{ua as component,sa as universal};
