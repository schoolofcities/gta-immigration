import{t as H,a as x,n as N,c as mt}from"../chunks/Cf1Ji9YY.js";import"../chunks/l3BAmYos.js";import{F as $,ap as Q,L as m,B as X,I as tt,Q as R,g as t,K as i,J as o,G,f as Y,au as U,av as B,e as nt,aw as pt,_ as it,$ as ft,C as ct}from"../chunks/BcaDT9qf.js";import{h as _t}from"../chunks/D6zB2vfb.js";import{P as ut,e as q,c as F,a as st,s as e,C as yt,O as xt,d as ot,f as bt,T as wt}from"../chunks/CEKe5COV.js";import{a as K,p as J}from"../chunks/D6Lsk_Gr.js";import{o as lt}from"../chunks/GI9JK1j2.js";import{j as Ct,c as St,S as vt,l as kt,a as At}from"../chunks/DAIIW3Ny.js";import{i as Z}from"../chunks/EyUDMLWb.js";import{s as W}from"../chunks/BDG1Vv6z.js";import{g as Tt,a as Mt}from"../chunks/BZRyRBhv.js";import{i as Et}from"../chunks/B_a6ThXA.js";/* empty css                */const Pt=!0,ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pt},Symbol.toStringTag,{value:"Module"}));var Dt=H('<div class="plots-title"><h4>Ridings with more visible minorities are increasingly voting Conservative</h4> <p>Correlation between visible minorities (as % of population) and voting Conservative in Ontario elections</p></div> <div class="plots-container svelte-uo435w"></div> <div class="plots-title"><h4></h4> <p>Correlation between visible minorities (as % of population) and voting Conservative in federal elections</p></div> <div class="plots-container svelte-uo435w"></div>',1);function jt(j,a){$(a,!0);const f=[{year:1999,region:"ontario"},{year:2003,region:"ontario"},{year:2007,region:"ontario"},{year:2011,region:"ontario"},{year:2014,region:"ontario"},{year:2018,region:"ontario"},{year:2022,region:"ontario"},{year:2025,region:"ontario"}],_=[{year:2004,region:"federal"},{year:2006,region:"federal"},{year:2008,region:"federal"},{year:2011,region:"federal"},{year:2015,region:"federal"},{year:2019,region:"federal"},{year:2021,region:"federal"},{year:2025,region:"federal"}],s="cons1",b=ut.find(d=>d.tag===s).propertyTag,w=75,p=75,v=-.3,u=.15;let P=Q(K([])),C=Q(K([]));lt(()=>{n(f,"ontario"),n(_,"federal")});function n(d,l){const D=d.map(y=>{const A=l==="ontario"?`/gta-immigration/data/elections/ont-ed_stats_${y.year}.geojson`:`/gta-immigration/data/elections/fed_stats_${y.year}.geojson`;return Promise.all([Ct(A),St("/gta-immigration/data/elections_analysis/ed_corrs_vm.csv")]).then(([h,g])=>{const c=g.find(E=>E.year===y.year.toString()&&E.region===y.region),T=h.features.map(E=>({x:E.properties.pct_vm,y:E.properties[b],geoname:E.properties.geoname}));return{year:y.year,points:T,correlation:c?parseFloat(c[`corr_pct_vm_${s}`]):0}})});Promise.all(D).then(y=>{l==="ontario"?R(P,K(y.sort((A,h)=>A.year-h.year))):R(C,K(y.sort((A,h)=>A.year-h.year)))}).catch(y=>{console.error("Error loading data:",y)})}var r=Dt(),S=m(X(r),2);q(S,21,()=>t(P),F,(d,l)=>{vt(d,{get points(){return t(l).points},get correlation(){return t(l).correlation},get year(){return t(l).year},xEnd:100,height:w,plotWidth:p,colorStart:v,colorEnd:u})}),i(S);var k=m(S,4);q(k,21,()=>t(C),F,(d,l)=>{vt(d,{get points(){return t(l).points},get correlation(){return t(l).correlation},get year(){return t(l).year},xEnd:100,height:w,plotWidth:p,colorStart:v,colorEnd:u})}),i(k),x(j,r),tt()}var Ot=N('<path class="riding svelte-1ru7782" stroke-width="0.3"></path>'),Gt=N('<rect class="box svelte-1ru7782" width="40" height="12" y="30"></rect>'),Rt=N('<line y1="30" y2="60" stroke="var(--brandDarkBlue)" stroke-width="1" stroke-dasharray="4,3"></line><text class="legend-note svelte-1ru7782" y="70" text-anchor="middle">Cons. gained 7.6% nationally</text>',1),qt=N('<text class="label legend svelte-1ru7782" y="55" text-anchor="middle"> </text>'),Ft=N('<svg><defs><pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#cccccc" stroke-width="1"></path></pattern></defs><text class="label svelte-1ru7782" x="5" y="22"> </text><!><!><!><!></svg>'),Nt=H('<div class="map-inner-container svelte-1ru7782"><!></div>');function dt(j,a){$(a,!0);let f=J(a,"mapData",19,()=>[]),_=Q(null),s=Y(()=>t(_)),b=Y(()=>t(s)/1.4),w=Y(()=>Mt().center([-79.38,43.68]).scale([t(s)*32]).translate([t(s)/2.3,t(b)/1.4]).angle([-25])),p=Y(()=>Tt(t(w)));function v(n){if(n==null)return"url(#diagonalHatch)";const r=a.mapConfig.breaks,S=a.mapConfig.colours;if(n<r[0])return S[0];for(let k=0;k<r.length-1;k++)if(n>=r[k]&&n<r[k+1])return S[k+1];return S[S.length-1]}var u=Nt(),P=o(u);{var C=n=>{var r=Ft(),S=m(o(r)),k=o(S,!0);i(S);var d=m(S);q(d,17,f,F,(h,g)=>{var c=Ot();G((T,E)=>{e(c,"d",T),e(c,"fill",E)},[()=>t(p)(t(g)),()=>v(t(g).properties[a.dataKey])]),x(h,c)});var l=m(d);q(l,17,()=>a.mapConfig.colours,F,(h,g,c)=>{var T=Gt();e(T,"x",5+c*40),G(()=>e(T,"style",`fill:${t(g)??""}; stroke: white;`)),x(h,T)});var D=m(l);{var y=h=>{var g=Rt(),c=X(g);e(c,"x1",65),e(c,"x2",65);var T=m(c);e(T,"x",65),x(h,g)};Z(D,h=>{a.dataKey==="cons_pct_change"&&h(y)})}var A=m(D);q(A,17,()=>a.mapConfig.breaks,F,(h,g,c)=>{var T=qt();e(T,"x",5+(c+1)*40);var E=o(T);i(T),G(()=>W(E,`${a.mapConfig.breakPrefix??""}${t(g)??""}${a.mapConfig.breakSuffix??""}`)),x(h,T)}),i(r),G(()=>{e(r,"width",t(s)),e(r,"height",t(b)),e(r,"id",a.year),W(k,a.mapConfig.name)}),x(n,r)};Z(P,n=>{f().length>0&&n(C)})}i(u),st(u,"offsetWidth",n=>R(_,n)),x(j,u),tt()}var Vt=H('<div class="container plots-title"><h4>Conservatives made major gains in the visible minority-heavy GTA suburbs</h4> <p>Many ridings saw gains far in excess of their national vote share change of 7.6%. In Brampton West, a riding where 88% of the population are visible minorities, the Conservatives gained 22% and flipped the seat - their 4th largest gain in the country.</p></div> <div class="maps-container svelte-jedtm9"><div class="map-section svelte-jedtm9"><!></div> <div class="map-section svelte-jedtm9"><!></div></div>',1),Wt=H('<div class="panel-container svelte-jedtm9"><!></div>');function Ht(j,a){$(a,!0);let f=Q(null);const _={VM:{breaks:[10,20,30,40,50,60],breakPrefix:"",breakSuffix:"%",name:"Visible Minority (% of population)",colours:yt.pct_vm},VoteShareChange:{breaks:[5,10,15,20],breakPrefix:"+",breakSuffix:"%",name:"Change in Conservative Vote Share, 2021-2025 (%)",colours:xt.cons_change}};lt(async()=>{try{const p=await fetch("/gta-immigration/data/elections/fed_stats_2025.geojson");if(!p.ok)throw new Error("Failed to load data");const v=await p.json();R(f,K(v.features))}catch(p){console.log(p.message)}});var s=Wt(),b=o(s);{var w=p=>{var v=Vt(),u=m(X(v),2),P=o(u),C=o(P);dt(C,{get mapData(){return t(f)},get mapConfig(){return _.VM},dataKey:"pct_vm",year:"2025"}),i(P);var n=m(P,2),r=o(n);dt(r,{get mapData(){return t(f)},get mapConfig(){return _.VoteShareChange},dataKey:"cons_pct_change",year:"2025"}),i(n),i(u),x(p,v)};Z(b,p=>{t(f)&&p(w)})}i(s),x(j,s),tt()}var It=N('<text y="12" text-anchor="middle" font-size="11"> </text>'),zt=N('<text text-anchor="middle" fill="white" font-weight="bold" font-size="11"> </text>'),Lt=N('<rect stroke="#ffffff" stroke-width="1"></rect><!>',1),Bt=H('<div class="profile-container svelte-10vri73"><svg width="100%" preserveAspectRatio="xMinYMin meet"><!><!></svg> <div class="header svelte-10vri73"> </div> <div class="description svelte-10vri73"> </div></div>');function Kt(j,a){$(a,!0);let f=J(a,"showLabels",3,!1),_=J(a,"electionLabels",19,()=>[]),s=Q(340),b=Y(()=>t(s)-20),w=Y(()=>Math.max(40,Math.floor(t(b)/5)));const p=20,v=40,u=29,P=15;var C=Bt(),n=o(C);e(n,"height",v);var r=o(n);q(r,17,_,F,(y,A,h)=>{var g=It(),c=o(g,!0);i(g),G(()=>{e(g,"x",h*t(w)+t(w)/2),e(g,"opacity",f()?1:0),W(c,t(A))}),x(y,g)});var S=m(r);q(S,17,()=>a.profile.votes,F,(y,A,h)=>{var g=Lt(),c=X(g);e(c,"y",P),e(c,"height",p);var T=m(c);{var E=I=>{var L=zt();e(L,"y",u);var rt=o(L,!0);i(L),G(()=>{e(L,"x",h*t(w)+t(w)/2),W(rt,bt[t(A)]||"NA")}),x(I,L)};Z(T,I=>{f()&&I(E)})}G(()=>{e(c,"x",h*t(w)),e(c,"width",t(w)),e(c,"fill",ot[t(A)]||ot.NA)}),x(y,g)}),i(n);var k=m(n,2),d=o(k,!0);i(k);var l=m(k,2),D=o(l,!0);i(l),i(C),G(()=>{e(n,"viewBox",`0 0 ${t(w)*5} ${v}`),W(d,a.profile.header),W(D,a.profile.description)}),st(C,"clientWidth",y=>R(s,y)),x(j,C),tt()}var Ut=H('<div class="profiles-grid svelte-zqupcl"></div>');function Yt(j){const a=[{votes:["lib","lib","ndp","ndp","cons1"],header:"Ahmed, early 30s, Don Valley West",description:"2-3 sentence quote from qualitative data"},{votes:["NA","ndp","ndp","lib","lib"],header:"Edward, mid 20s, Markham-Unionville",description:"2-3 sentence quote from qualitative data"},{votes:["NA","NA","ndp","ndp","ndp"],header:"Priya, early 20s, Brampton East",description:"2-3 sentence quote from qualitative data"},{votes:["lib","ndp","lib","ndp","cons1"],header:"Olivia, late 20s, Scarborough North",description:"2-3 sentence quote from qualitative data"}],f=["Fed. 2015","Ont. 2018","Fed. 2019","Fed. 2021","Ont. 2022"];var _=Ut();q(_,5,()=>a,F,(s,b,w)=>{Kt(s,{get profile(){return t(b)},showLabels:w===0,electionLabels:f})}),i(_),x(j,_)}var Jt=N('<line stroke="#e0e0e0" stroke-width="0.5"></line>'),Qt=N('<text class="bar-chart-tick svelte-1q8dgyi" font-size="9"> </text>'),Xt=N("<rect></rect>"),Zt=N('<circle fill="#00A189" stroke="white" stroke-width="0"></circle>'),$t=N('<svg><g><!><g></g><text class="bar-chart-title svelte-1q8dgyi" font-size="14"> </text><!><line stroke="#000000" stroke-width="1" stroke-dasharray="4,3" opacity="1"></line><!></g></svg>'),te=H('<div class="chart-container svelte-1q8dgyi"><!></div>');function ee(j,a){$(a,!1);const f=B(),_=B(),s=B(),b=B(),w=B(),p=B();let v=J(a,"info",8),u=J(a,"data",8),P=J(a,"vmField",8),C=B(300);const n=134,r={top:20,right:5,bottom:20,left:6},S=18,k=14,d=6,l=10;U(()=>t(C),()=>{R(f,t(C)-r.left-r.right)}),U(()=>{},()=>{R(_,n-r.top-r.bottom)}),U(()=>t(f),()=>{R(s,kt().domain([0,75]).range([0,t(f)]))}),U(()=>nt(v()),()=>{R(b,v().region==="ont-"?"Ontario":"Federal")}),U(()=>nt(v()),()=>{R(w,v().vm_type==="sa"?"South Asian":"Chinese")}),U(()=>(t(b),nt(v())),()=>{R(p,`${t(b)} ${v().year}`)}),pt(),Et();var D=te(),y=o(D);{var A=h=>{var g=$t();e(g,"height",n);var c=o(g),T=o(c);q(T,0,()=>[0,20,40,60],F,(V,z)=>{var O=Jt();e(O,"y1",0),G(M=>{e(O,"x1",M),e(O,"x2",M),e(O,"y2",t(_))},[()=>t(s)(z)],it),x(V,O)});var E=m(T);q(E,4,()=>[0,20,40,60],F,(V,z)=>{var O=Qt();e(O,"y",10);var M=o(O);i(O),G(at=>{e(O,"x",at),W(M,`${z??""}%`)},[()=>t(s)(z)],it),x(V,O)}),i(E);var I=m(E);e(I,"y",-5);var L=o(I,!0);i(I);var rt=m(I);q(rt,1,u,F,(V,z,O)=>{var M=Xt();e(M,"x",0),e(M,"y",l+O*S-k/2),e(M,"height",k),e(M,"rx",1),e(M,"ry",1),G(at=>{e(M,"width",at),e(M,"fill",ot.cons1)},[()=>t(s)(+t(z).cons1_pct)],it),x(V,M)});var et=m(rt);e(et,"y1",0);var gt=m(et);q(gt,1,u,F,(V,z,O)=>{var M=Zt();e(M,"cy",l+O*S),e(M,"r",d),G(at=>e(M,"cx",at),[()=>t(s)(+t(z)[P()])],it),x(V,M)}),i(c),i(g),G(V=>{e(g,"width",t(C)),e(c,"transform",`translate(${r.left},${r.top})`),e(E,"transform",`translate(0,${t(_)})`),e(I,"x",t(f)/2),W(L,t(p)),e(et,"x1",V),e(et,"x2",V),e(et,"y2",t(_))},[()=>t(s)(v().pct_cons_total)],it),x(h,g)};Z(y,h=>{u()&&h(A)})}i(D),st(D,"clientWidth",h=>R(C,h)),x(j,D),tt()}var ae=H('<div class="plots-title"><h4> </h4> <p> </p></div> <div class="charts-grid svelte-1tpgrjg"><!></div>',1);function ht(j,a){$(a,!0);const f=5,_=[{region:"ont-",vm_type:"sa",vm_field:"pct_vm_sa",year:2014,pct_cons_total:31.2},{region:"ont-",vm_type:"sa",vm_field:"pct_vm_sa",year:2025,pct_cons_total:43},{region:"f",vm_type:"sa",vm_field:"pct_vm_sa",year:2015,pct_cons_total:31.9},{region:"f",vm_type:"sa",vm_field:"pct_vm_sa",year:2025,pct_cons_total:41.3}],s=[{region:"ont-",vm_type:"chn",vm_field:"pct_vm_chn",year:2014,pct_cons_total:31.2},{region:"ont-",vm_type:"chn",vm_field:"pct_vm_chn",year:2025,pct_cons_total:43},{region:"f",vm_type:"chn",vm_field:"pct_vm_chn",year:2015,pct_cons_total:31.9},{region:"f",vm_type:"chn",vm_field:"pct_vm_chn",year:2025,pct_cons_total:41.3}];let b=Q(K([]));async function w(d){try{const l=`/gta-immigration/data/elections_analysis/vm_cons/${d.region}ed_vm-${d.vm_type}_cons_${d.year}.csv`,D=await fetch(l);if(!D.ok)return null;const y=await D.text();return At(y).slice(0,f)}catch{return null}}lt(async()=>{let d;a.ethnicType==="sa"?d=_:a.ethnicType==="chn"&&(d=s),R(b,K(await Promise.all(d.map(async l=>({info:l,data:await w(l)})))))});var p=ae(),v=X(p),u=o(v),P=o(u,!0);i(u);var C=m(u,2),n=o(C,!0);i(C),i(v);var r=m(v,2),S=o(r);{var k=d=>{var l=mt(),D=X(l);q(D,17,()=>t(b),F,(y,A)=>{ee(y,{get info(){return t(A).info},get data(){return t(A).data},get vmField(){return t(A).info.vm_field}})}),x(d,l)};Z(S,d=>{t(b)&&d(k)})}i(r),G(()=>{W(P,a.title),W(n,a.subtitle)}),x(j,p),tt()}var ie=H('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"> <meta name="description" content=""> <meta name="author" content="Emine Fidan Elcioglu, Aniket Kali, Serene Tan, &amp; Jeff Allen"> <meta property="og:title" content="Rightward shifts amongst visible minorities in the Greater Toronto Area"> <meta property="og:description" content="Visible minorities in the GTA have begun to shift to the Conservatives"> <meta property="og:type" content="website"> <meta property="og:url" content="https://schoolofcities.github.io/gta-immigration/rightward-minorities"> <meta property="og:locale" content="en_CA"> <meta name="twitter:site" content="https://schoolofcities.github.io/gta-immigration/rightward-minorities"> <meta name="twitter:creator" content="@UofTCities"> <meta name="twitter:title" content="Rightward shifts amongst visible minorities in the Greater Toronto Area"> <meta name="twitter:description" content="Visible minorities in the GTA have begun to shift to the Conservatives">',1),re=H(`<main><!> <div class="title"><h1>Rightward shifts amongst visible minorities in the Greater Toronto Area</h1> <p><a href="https://fidanelcioglu.com/" target="_blank">Emine Fidan Elcioglu</a>, <a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://www.linkedin.com/in/serene-tan-530239113" target="_blank">Serene Tan</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            May 2025</p></div> <div class="text"><p>Introduction</p></div> <div class="container"><!></div> <div class="text"><p>Continued introduction</p></div> <div class="text"><h2>What is happening?</h2> <p>Background, historical context, summary of what is driving these changes now</p></div> <div><!></div> <div class="text"><p>Tie in to recent elections</p></div> <div class="text"><h2>2nd Generation Immigrants</h2> <p>Discussion of 2nd gen visible minorities shifting right - introduce the main study, qualitative data, etc.</p></div> <div class="container"><!></div> <div class="text"><p>Summarize key conclusions on 2nd gens</p></div> <div class="text"><h2>South Asian Canadians and Chinese Canadians</h2> <p>Summary of these groups in particular</p></div> <div class="container"><!></div> <div class="text"><p>Discussion on South Asian Canadians.</p></div> <div class="container"><!></div> <div class="text"><p>Discussion on Chinese Canadians</p> <p>Conservative shifts within South Asian and Chinese minorities – highlighting 2nd gen, but then broader discussion on why these communities are shifting right/who in them (from research + prior reporting). Note Mainstreet Research polling.</p></div> <div class="text"><h2>Conclusion</h2> <p>Discuss key factors we didn’t go into as much: income, turnout, disenfranchised</p> <p>Conclusion: why is this happening, what does it mean?</p></div> <div class="text"><br> <br> <div class="footnotes"><h3>Data & Methods</h3></div></div> <div class="text"><div class="footnotes"><h3>Footnotes</h3></div></div></main>`);function ye(j){var a=re();_t(r=>{var S=ie();ft.title="Rightward shifts amongst visible minorities in the Greater Toronto Area | School of Cities",ct(22),x(r,S)});var f=o(a);wt(f,{});var _=m(f,6),s=o(_);jt(s,{}),i(_);var b=m(_,6),w=o(b);Ht(w,{}),i(b);var p=m(b,6),v=o(p);Yt(v),i(p);var u=m(p,6),P=o(u);ht(P,{ethnicType:"sa",title:"Conservatives now do better in South Asian-heavy ridings versus in general",subtitle:"Conservative vote share (%) and South Asian (% of population) in the GTA's five most South Asian ridings"}),i(u);var C=m(u,4),n=o(C);ht(n,{ethnicType:"chn",title:"Conservatives also do better in Chinese-heavy ridings, but more in Ontario",subtitle:"Conservative vote share (%) and Chinese (% of population) in the GTA's five most Chinese ridings"}),i(C),ct(8),i(a),x(j,a)}export{ye as component,ue as universal};
