import{t as I,a as O}from"../chunks/C9ab7IHa.js";import"../chunks/S1VkfB8l.js";import{X as D,W as R,M as $,F,ab as x,a as J,L as w,B as N,I as G,g as a,Q as M,K as b,J as k,C as z}from"../chunks/BTKsQ2uX.js";import{P as B,e as V,i as A,T as K}from"../chunks/CbMQLHsH.js";import{p as u}from"../chunks/fN-gVejS.js";import{o as L}from"../chunks/CIF7MXmu.js";import{j as Q,c as W,S as T}from"../chunks/BzgD-WjA.js";/* empty css                */const X=[];function E(e,t=!1){return _(e,new Map,"",X)}function _(e,t,l,p,o=null){if(typeof e=="object"&&e!==null){var h=t.get(e);if(h!==void 0)return h;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(D(e)){var r=Array(e.length);t.set(e,r),o!==null&&t.set(o,r);for(var s=0;s<e.length;s+=1){var v=e[s];s in e&&(r[s]=_(v,t,l,p))}return r}if(R(e)===$){r={},t.set(e,r),o!==null&&t.set(o,r);for(var g in e)r[g]=_(e[g],t,l,p);return r}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return _(e.toJSON(),t,l,p,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}const H=!0,le=Object.freeze(Object.defineProperty({__proto__:null,prerender:H},Symbol.toStringTag,{value:"Module"}));var U=I('<div class="plots-title svelte-1el3qlx"><h4>Ridings with more immigrants are increasingly voting Conservative</h4> <p class="svelte-1el3qlx">Correlation between immigrants (as % of population) and voting Conservative in Ontario provincial elections</p></div> <div class="plots-container svelte-1el3qlx"></div> <div class="plots-title svelte-1el3qlx"><h4></h4> <p class="svelte-1el3qlx">Correlation between immigrants (as % of population) and voting Conservative in federal elections</p></div> <div class="plots-container svelte-1el3qlx"></div>',1);function Y(e,t){F(t,!0);const l=[{year:2007,region:"ontario"},{year:2011,region:"ontario"},{year:2014,region:"ontario"},{year:2018,region:"ontario"},{year:2022,region:"ontario"},{year:2025,region:"ontario"}],p=[{year:2008,region:"federal"},{year:2011,region:"federal"},{year:2015,region:"federal"},{year:2019,region:"federal"},{year:2021,region:"federal"},{year:2025,region:"federal"}],o="cons1",h=B.find(c=>c.tag===o).propertyTag;let r=x(u([])),s=x(u([]));L(()=>{v(l,"ontario"),v(p,"federal")}),J(()=>{console.log(E(a(r))),console.log(E(a(s)))});function v(c,n){const j=c.map(i=>{const f=n==="ontario"?`/gta-immigration/data/elections/ont-ed_stats_${i.year}.geojson`:`/gta-immigration/data/elections/fed_stats_${i.year}.geojson`;return Promise.all([Q(f),W("/gta-immigration/data/elections_analysis/ed_corrs_vm.csv")]).then(([m,q])=>{const C=q.find(d=>d.year===i.year.toString()&&d.region===i.region),P=m.features.map(d=>({x:d.properties.pct_vm,y:d.properties[h],geoname:d.properties.geoname}));return{year:i.year,points:P,correlation:C?parseFloat(C[`corr_pct_vm_${o}`]):0}})});Promise.all(j).then(i=>{n==="ontario"?M(r,u(i.sort((f,m)=>f.year-m.year))):M(s,u(i.sort((f,m)=>f.year-m.year)))}).catch(i=>{console.error("Error loading data:",i)})}var g=U(),y=w(N(g),2);V(y,21,()=>a(r),A,(c,n)=>{T(c,{get points(){return a(n).points},get correlation(){return a(n).correlation},get year(){return a(n).year},showArrows:!1})}),b(y);var S=w(y,4);V(S,21,()=>a(s),A,(c,n)=>{T(c,{get points(){return a(n).points},get correlation(){return a(n).correlation},get year(){return a(n).year},showArrows:!1})}),b(S),O(e,g),G()}var Z=I(`<main><!> <div class="title"><h1>Rightward shifts amongst visible minorities in the Greater Toronto Area</h1> <p><a href="https://fidanelcioglu.com/" target="_blank">Emine Fidan Elcioglu</a>, <a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://www.linkedin.com/in/serene-tan-530239113" target="_blank">Serene Tan</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            May 2025</p></div> <div class="text"><p>Introduction</p></div> <div class="container"><p>VIS: Correlation between %VM and %Cons over time, Ontario (1999-2025) and federal (1997-2025), showing a clear trend</p> <!></div> <div class="text"><p>Background, historical context, summary of what is driving these changes now</p></div> <div><p>VIS: Map of %Cons vote share change in the last (federal) election in GTA ridings</p> <p>VIS: Map of %VM in GTA ridings</p></div> <div class="text"><p>Discussion of 2nd gen visible minorities shifting right</p></div> <div class="container"><p>VIS*4: Riding, %VM, %Cons (federal and Ontario) – 2-3 sentence quote from qualitative data</p></div> <div class="text"><p>Summarize key conclusions on 2nd gens</p></div> <div class="container"><p>VIS: %Cons (federal and Ontario) ranked by %VM South Asian (maybe vs. ~2000)</p> <p>VIS: %Cons (federal and Ontario) ranked by %VM Chinese (maybe vs. ~2000)</p></div> <div class="text"><p>Conservative shifts within South Asian and Chinese minorities – highlighting 2nd gen, but then broader discussion on why these communities are shifting right/who in them (from research + prior reporting). Note Mainstreet Research polling.</p> <p>Discuss key factors we didn’t go into as much: income, turnout, disenfranchised</p> <p>Conclusion: why is this happening, what does it mean?</p></div></main>`);function pe(e){var t=Z(),l=k(t);K(l,{});var p=w(l,6),o=w(k(p),2);Y(o,{}),b(p),z(14),b(t),O(e,t)}export{pe as component,le as universal};
