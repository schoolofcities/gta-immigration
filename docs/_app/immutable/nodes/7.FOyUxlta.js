import{t as He,a as W,n as j,c as Et}from"../chunks/BK7Wmniv.js";import"../chunks/BiDEo7bR.js";import{B as Be,C as X,D as Ke,F as x,y as A,L,z as k,g as r,ax as pt,f as Ce,w as $e,as as P,at as Yt,au as I,_ as oe,e as Re}from"../chunks/Fxx0eZ4n.js";import{i as ut}from"../chunks/DJIllxwD.js";import{b as lt,s as u,T as Jt}from"../chunks/DV5cpcdT.js";import{s as ye}from"../chunks/CJGlZdPQ.js";import{k as Ft,m as Qt,o as Vt,t as dt,q as Bt,s as Kt,b as Ge,a as te,i as ne,l as st,u as he,F as $t,j as en}from"../chunks/B8_PCwly.js";import{o as ct}from"../chunks/B_3djCp6.js";import{g as tn,a as nn}from"../chunks/BZRyRBhv.js";import{i as Se,p as Oe}from"../chunks/sL20XP9V.js";import{l as Ee}from"../chunks/CjWAwAWE.js";function rn(e,t){e=e.slice();var n=0,a=e.length-1,l=e[n],o=e[a],s;return o<l&&(s=n,n=a,a=s,s=l,l=o,o=s),e[n]=t.floor(l),e[a]=t.ceil(o),e}function Lt(){var e=[.5],t=[0,1],n,a=1;function l(o){return o!=null&&o<=o?t[Qt(e,o,0,a)]:n}return l.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return Lt().domain(e).range(t).unknown(n)},Ft.apply(l,arguments)}const nt=new Date,rt=new Date;function G(e,t,n,a){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const s=l(o),v=l.ceil(o);return o-s<v-o?s:v},l.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),l.range=(o,s,v)=>{const w=[];if(o=l.ceil(o),v=v==null?1:Math.floor(v),!(o<s)||!(v>0))return w;let g;do w.push(g=new Date(+o)),t(o,v),e(o);while(g<o&&o<s);return w},l.filter=o=>G(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,v)=>{if(s>=s)if(v<0)for(;++v<=0;)for(;t(s,-1),!o(s););else for(;--v>=0;)for(;t(s,1),!o(s););}),n&&(l.count=(o,s)=>(nt.setTime(+o),rt.setTime(+s),e(nt),e(rt),Math.floor(n(nt,rt))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(a?s=>a(s)%o===0:s=>l.count(0,s)%o===0):l)),l}const Je=G(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Je.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?G(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Je);Je.range;const ve=1e3,ie=ve*60,_e=ie*60,pe=_e*24,mt=pe*7,yt=pe*30,at=pe*365,Ye=G(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCSeconds());Ye.range;const ft=G(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ve)},(e,t)=>{e.setTime(+e+t*ie)},(e,t)=>(t-e)/ie,e=>e.getMinutes());ft.range;const an=G(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ie)},(e,t)=>(t-e)/ie,e=>e.getUTCMinutes());an.range;const ht=G(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ve-e.getMinutes()*ie)},(e,t)=>{e.setTime(+e+t*_e)},(e,t)=>(t-e)/_e,e=>e.getHours());ht.range;const on=G(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_e)},(e,t)=>(t-e)/_e,e=>e.getUTCHours());on.range;const Pe=G(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ie)/pe,e=>e.getDate()-1);Pe.range;const gt=G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pe,e=>e.getUTCDate()-1);gt.range;const sn=G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pe,e=>Math.floor(e/pe));sn.range;function we(e){return G(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ie)/mt)}const et=we(0),Qe=we(1),un=we(2),ln=we(3),Fe=we(4),cn=we(5),mn=we(6);et.range;Qe.range;un.range;ln.range;Fe.range;cn.range;mn.range;function be(e){return G(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mt)}const Ht=be(0),Ve=be(1),fn=be(2),hn=be(3),Le=be(4),gn=be(5),vn=be(6);Ht.range;Ve.range;fn.range;hn.range;Le.range;gn.range;vn.range;const vt=G(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vt.range;const _n=G(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_n.range;const de=G(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());de.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:G(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});de.range;const Te=G(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Te.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:G(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Te.range;function pn(e,t,n,a,l,o){const s=[[Ye,1,ve],[Ye,5,5*ve],[Ye,15,15*ve],[Ye,30,30*ve],[o,1,ie],[o,5,5*ie],[o,15,15*ie],[o,30,30*ie],[l,1,_e],[l,3,3*_e],[l,6,6*_e],[l,12,12*_e],[a,1,pe],[a,2,2*pe],[n,1,mt],[t,1,yt],[t,3,3*yt],[e,1,at]];function v(g,b,O){const N=b<g;N&&([g,b]=[b,g]);const S=O&&typeof O.range=="function"?O:w(g,b,O),U=S?S.range(g,+b+1):[];return N?U.reverse():U}function w(g,b,O){const N=Math.abs(b-g)/O,S=Vt(([,,Q])=>Q).right(s,N);if(S===s.length)return e.every(dt(g/at,b/at,O));if(S===0)return Je.every(Math.max(dt(g,b,O),1));const[U,q]=s[N/s[S-1][2]<s[S][2]/N?S-1:S];return U.every(q)}return[v,w]}const[dn,yn]=pn(de,vt,et,Pe,ht,ft);function ot(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function it(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ne(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xn(e){var t=e.dateTime,n=e.date,a=e.time,l=e.periods,o=e.days,s=e.shortDays,v=e.months,w=e.shortMonths,g=ze(l),b=qe(l),O=ze(o),N=qe(o),S=ze(s),U=qe(s),q=ze(v),Q=qe(v),$=ze(w),V=qe(w),h={a:Z,A:J,b:Y,B:K,c:null,d:Dt,e:Dt,f:Rn,g:$n,G:tr,H:qn,I:Pn,j:Zn,L:Wt,m:Gn,M:Xn,p:ae,q:xe,Q:kt,s:St,S:jn,u:En,U:Jn,V:Qn,w:Vn,W:Bn,x:null,X:null,y:Kn,Y:er,Z:nr,"%":Ut},z={a:ge,A:Me,b:We,B:De,c:null,d:Ct,e:Ct,f:ir,g:_r,G:dr,H:rr,I:ar,j:or,L:It,m:sr,M:ur,p:tt,q:Ae,Q:kt,s:St,S:lr,u:cr,U:mr,V:fr,w:hr,W:gr,x:null,X:null,y:vr,Y:pr,Z:yr,"%":Ut},D={a:se,A:ee,b:ue,B:le,c:C,d:bt,e:bt,f:In,g:wt,G:Tt,H:Mt,I:Mt,j:Ln,L:An,m:Fn,M:Hn,p:re,q:Yn,Q:Nn,s:zn,S:Wn,u:Dn,U:Cn,V:Un,w:Mn,W:kn,x:B,X:ce,y:wt,Y:Tt,Z:Sn,"%":On};h.x=c(n,h),h.X=c(a,h),h.c=c(t,h),z.x=c(n,z),z.X=c(a,z),z.c=c(t,z);function c(m,p){return function(T){var i=[],d=-1,f=0,y=m.length,F,R,me;for(T instanceof Date||(T=new Date(+T));++d<y;)m.charCodeAt(d)===37&&(i.push(m.slice(f,d)),(R=xt[F=m.charAt(++d)])!=null?F=m.charAt(++d):R=F==="e"?" ":"0",(me=p[F])&&(F=me(T,R)),i.push(F),f=d+1);return i.push(m.slice(f,d)),i.join("")}}function _(m,p){return function(T){var i=Ne(1900,void 0,1),d=H(i,m,T+="",0),f,y;if(d!=T.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(i.s*1e3+("L"in i?i.L:0));if(p&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+i.p*12),i.m===void 0&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(f=it(Ne(i.y,0,1)),y=f.getUTCDay(),f=y>4||y===0?Ve.ceil(f):Ve(f),f=gt.offset(f,(i.V-1)*7),i.y=f.getUTCFullYear(),i.m=f.getUTCMonth(),i.d=f.getUTCDate()+(i.w+6)%7):(f=ot(Ne(i.y,0,1)),y=f.getDay(),f=y>4||y===0?Qe.ceil(f):Qe(f),f=Pe.offset(f,(i.V-1)*7),i.y=f.getFullYear(),i.m=f.getMonth(),i.d=f.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),y="Z"in i?it(Ne(i.y,0,1)).getUTCDay():ot(Ne(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+i.W*7-(y+5)%7:i.w+i.U*7-(y+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,it(i)):ot(i)}}function H(m,p,T,i){for(var d=0,f=p.length,y=T.length,F,R;d<f;){if(i>=y)return-1;if(F=p.charCodeAt(d++),F===37){if(F=p.charAt(d++),R=D[F in xt?p.charAt(d++):F],!R||(i=R(m,T,i))<0)return-1}else if(F!=T.charCodeAt(i++))return-1}return i}function re(m,p,T){var i=g.exec(p.slice(T));return i?(m.p=b.get(i[0].toLowerCase()),T+i[0].length):-1}function se(m,p,T){var i=S.exec(p.slice(T));return i?(m.w=U.get(i[0].toLowerCase()),T+i[0].length):-1}function ee(m,p,T){var i=O.exec(p.slice(T));return i?(m.w=N.get(i[0].toLowerCase()),T+i[0].length):-1}function ue(m,p,T){var i=$.exec(p.slice(T));return i?(m.m=V.get(i[0].toLowerCase()),T+i[0].length):-1}function le(m,p,T){var i=q.exec(p.slice(T));return i?(m.m=Q.get(i[0].toLowerCase()),T+i[0].length):-1}function C(m,p,T){return H(m,t,p,T)}function B(m,p,T){return H(m,n,p,T)}function ce(m,p,T){return H(m,a,p,T)}function Z(m){return s[m.getDay()]}function J(m){return o[m.getDay()]}function Y(m){return w[m.getMonth()]}function K(m){return v[m.getMonth()]}function ae(m){return l[+(m.getHours()>=12)]}function xe(m){return 1+~~(m.getMonth()/3)}function ge(m){return s[m.getUTCDay()]}function Me(m){return o[m.getUTCDay()]}function We(m){return w[m.getUTCMonth()]}function De(m){return v[m.getUTCMonth()]}function tt(m){return l[+(m.getUTCHours()>=12)]}function Ae(m){return 1+~~(m.getUTCMonth()/3)}return{format:function(m){var p=c(m+="",h);return p.toString=function(){return m},p},parse:function(m){var p=_(m+="",!1);return p.toString=function(){return m},p},utcFormat:function(m){var p=c(m+="",z);return p.toString=function(){return m},p},utcParse:function(m){var p=_(m+="",!0);return p.toString=function(){return m},p}}}var xt={"-":"",_:" ",0:"0"},E=/^\s*\d+/,Tn=/^%/,wn=/[\\^$*+?|[\]().{}]/g;function M(e,t,n){var a=e<0?"-":"",l=(a?-e:e)+"",o=l.length;return a+(o<n?new Array(n-o+1).join(t)+l:l)}function bn(e){return e.replace(wn,"\\$&")}function ze(e){return new RegExp("^(?:"+e.map(bn).join("|")+")","i")}function qe(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Mn(e,t,n){var a=E.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function Dn(e,t,n){var a=E.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function Cn(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function Un(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function kn(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function Tt(e,t,n){var a=E.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function wt(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Sn(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Yn(e,t,n){var a=E.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function Fn(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function bt(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function Ln(e,t,n){var a=E.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function Mt(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function Hn(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function Wn(e,t,n){var a=E.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function An(e,t,n){var a=E.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function In(e,t,n){var a=E.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function On(e,t,n){var a=Tn.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function Nn(e,t,n){var a=E.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function zn(e,t,n){var a=E.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function Dt(e,t){return M(e.getDate(),t,2)}function qn(e,t){return M(e.getHours(),t,2)}function Pn(e,t){return M(e.getHours()%12||12,t,2)}function Zn(e,t){return M(1+Pe.count(de(e),e),t,3)}function Wt(e,t){return M(e.getMilliseconds(),t,3)}function Rn(e,t){return Wt(e,t)+"000"}function Gn(e,t){return M(e.getMonth()+1,t,2)}function Xn(e,t){return M(e.getMinutes(),t,2)}function jn(e,t){return M(e.getSeconds(),t,2)}function En(e){var t=e.getDay();return t===0?7:t}function Jn(e,t){return M(et.count(de(e)-1,e),t,2)}function At(e){var t=e.getDay();return t>=4||t===0?Fe(e):Fe.ceil(e)}function Qn(e,t){return e=At(e),M(Fe.count(de(e),e)+(de(e).getDay()===4),t,2)}function Vn(e){return e.getDay()}function Bn(e,t){return M(Qe.count(de(e)-1,e),t,2)}function Kn(e,t){return M(e.getFullYear()%100,t,2)}function $n(e,t){return e=At(e),M(e.getFullYear()%100,t,2)}function er(e,t){return M(e.getFullYear()%1e4,t,4)}function tr(e,t){var n=e.getDay();return e=n>=4||n===0?Fe(e):Fe.ceil(e),M(e.getFullYear()%1e4,t,4)}function nr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+M(t/60|0,"0",2)+M(t%60,"0",2)}function Ct(e,t){return M(e.getUTCDate(),t,2)}function rr(e,t){return M(e.getUTCHours(),t,2)}function ar(e,t){return M(e.getUTCHours()%12||12,t,2)}function or(e,t){return M(1+gt.count(Te(e),e),t,3)}function It(e,t){return M(e.getUTCMilliseconds(),t,3)}function ir(e,t){return It(e,t)+"000"}function sr(e,t){return M(e.getUTCMonth()+1,t,2)}function ur(e,t){return M(e.getUTCMinutes(),t,2)}function lr(e,t){return M(e.getUTCSeconds(),t,2)}function cr(e){var t=e.getUTCDay();return t===0?7:t}function mr(e,t){return M(Ht.count(Te(e)-1,e),t,2)}function Ot(e){var t=e.getUTCDay();return t>=4||t===0?Le(e):Le.ceil(e)}function fr(e,t){return e=Ot(e),M(Le.count(Te(e),e)+(Te(e).getUTCDay()===4),t,2)}function hr(e){return e.getUTCDay()}function gr(e,t){return M(Ve.count(Te(e)-1,e),t,2)}function vr(e,t){return M(e.getUTCFullYear()%100,t,2)}function _r(e,t){return e=Ot(e),M(e.getUTCFullYear()%100,t,2)}function pr(e,t){return M(e.getUTCFullYear()%1e4,t,4)}function dr(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Le(e):Le.ceil(e),M(e.getUTCFullYear()%1e4,t,4)}function yr(){return"+0000"}function Ut(){return"%"}function kt(e){return+e}function St(e){return Math.floor(+e/1e3)}var Ue,Nt;xr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xr(e){return Ue=xn(e),Nt=Ue.format,Ue.parse,Ue.utcFormat,Ue.utcParse,Ue}function Tr(e){return new Date(e)}function wr(e){return e instanceof Date?+e:+new Date(+e)}function zt(e,t,n,a,l,o,s,v,w,g){var b=Bt(),O=b.invert,N=b.domain,S=g(".%L"),U=g(":%S"),q=g("%I:%M"),Q=g("%I %p"),$=g("%a %d"),V=g("%b %d"),h=g("%B"),z=g("%Y");function D(c){return(w(c)<c?S:v(c)<c?U:s(c)<c?q:o(c)<c?Q:a(c)<c?l(c)<c?$:V:n(c)<c?h:z)(c)}return b.invert=function(c){return new Date(O(c))},b.domain=function(c){return arguments.length?N(Array.from(c,wr)):N().map(Tr)},b.ticks=function(c){var _=N();return e(_[0],_[_.length-1],c??10)},b.tickFormat=function(c,_){return _==null?D:g(_)},b.nice=function(c){var _=N();return(!c||typeof c.range!="function")&&(c=t(_[0],_[_.length-1],c??10)),c?N(rn(_,c)):b},b.copy=function(){return Kt(b,zt(e,t,n,a,l,o,s,v,w,g))},b}function br(){return Ft.apply(zt(dn,yn,de,vt,et,Pe,ht,ft,Ye,Nt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qt(e,t){this._context=e,this._t=t}qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ke(e){return new qt(e,0)}const Mr=!0,la=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mr},Symbol.toStringTag,{value:"Module"}));var Dr=j('<path class="ct svelte-sstzq3"></path>'),Cr=j('<rect class="box svelte-sstzq3" width="50" height="12" y="30"></rect>'),Ur=j('<text class="label legend svelte-sstzq3" y="55" text-anchor="middle"> </text>'),kr=He('<div class="map-inner-container svelte-sstzq3"><svg><defs><pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#cccccc" stroke-width="1"></path></pattern></defs><text class="label svelte-sstzq3" x="5" y="22"> </text><!><!><!></svg></div>');function Xe(e,t){Be(t,!0);const n=[Ge.pct_imm[0],Ge.pct_imm[2],Ge.pct_imm[4],Ge.pct_imm[6],"#4b0f5c"],a={1961:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:14.85,notImmDist:19.51,popDist:17.98},1981:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:23.62,notImmDist:31.35,popDist:28.61},2001:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:26.68,notImmDist:35.81,popDist:32.01},2021:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${t.curYear}`,immDist:31.58,notImmDist:36.18,popDist:34.15}};let l=pt(null),o=pt(null),s=Ce(()=>r(o)),v=Ce(()=>r(s)/1.55),w=Ce(()=>r(s)<=500?25:30),g=Ce(()=>r(s)<=500?85:100),b=Ce(()=>nn().center([-79.4,43.7]).scale([r(s)*r(w)]).translate([r(s)/2-50,r(v)/2+r(g)]).angle([-30])),O=Ce(()=>tn(r(b)));Lt().domain(a[t.curYear].breaks).range(n);function N(D){return D===null?"url(#diagonalHatch)":D<15?n[0]:D<30?n[1]:D<45?n[2]:D<60?n[3]:n[4]}function S(){const D=`/gta-immigration/data/immigration/imm_stats_${t.curYear}.geojson`;fetch(D).then(c=>c.json()).then(c=>{c.features=c.features.map((_,H)=>(_.id||(_.id=H),_)),c.features=c.features.map(_=>(_.properties.colour=N(_.properties.pct_imm),_)),L(l,c.features)})}ct(()=>{S()});var U=kr(),q=A(U),Q=x(A(q)),$=A(Q,!0);k(Q);var V=x(Q);te(V,17,()=>r(l),ne,(D,c)=>{var _=Dr();X(H=>{u(_,"d",H),u(_,"fill",r(c).properties.colour),u(_,"stroke",r(c).properties.colour)},[()=>r(O)(r(c))]),W(D,_)});var h=x(V);te(h,17,()=>n,ne,(D,c,_)=>{var H=Cr();u(H,"x",5+_*50),X(()=>u(H,"style",`fill:${n[_]??""}; stroke: white;`)),W(D,H)});var z=x(h);te(z,17,()=>a[t.curYear].breaks,ne,(D,c,_)=>{var H=Ur();u(H,"x",5+(_+1)*50);var re=A(H,!0);k(H),X(()=>ye(re,a[t.curYear].breaks[_]+a[t.curYear].breakSuffix)),W(D,H)}),k(q),k(U),X(()=>{u(q,"width",r(s)),u(q,"height",r(v)),u(q,"id",t.curYear),ye($,a[t.curYear].name)}),lt(U,"offsetWidth",D=>L(o,D)),W(e,U),Ke()}var Sr=He(`<div class="container plots-title"><h4>Downtown Toronto used to be the hub of the region's immigrants, but now, it's the suburbs</h4> <p>Percentage of population that are immigrants per census tract in 20-year intervals</p></div> <div class="map-grid svelte-1r85na6"><div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div></div>`,1);function Yr(e){var t=Sr(),n=x($e(t),2),a=A(n),l=A(a);Xe(l,{curYear:1961}),k(a);var o=x(a,2),s=A(o);Xe(s,{curYear:1981}),k(o);var v=x(o,2),w=A(v);Xe(w,{curYear:2001}),k(v);var g=x(v,2),b=A(g);Xe(b,{curYear:2021}),k(g),k(n),W(e,t)}var Fr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Lr=j('<text class="tick-label svelte-10seolh" text-anchor="middle" font-size="12"> </text>'),Hr=j('<text class="tick-label svelte-10seolh" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Wr=j('<svg><g><!><g></g><g></g><text class="axis-label svelte-10seolh" text-anchor="middle" font-size="12">Average distance (km)</text><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4" stroke-dasharray="4,2"></path><path fill="none" stroke-width="4"></path><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">All immigrants</text><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">Non-immigrants</text><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">New immigrants</text></g></svg>'),Ar=He(`<div class="container plots-title"><h4>Like non-immigrant Canadians, immigrants new and old are moving to the suburbs</h4> <p>Average distance from Toronto's city center for <span id="non-imm" class="svelte-10seolh">non-immigrants</span>, <span id="imm" class="svelte-10seolh">all immigrants</span>, and <span id="new-imm" class="svelte-10seolh">new immigrants</span>. A "new immigrant" arrived in the last 3 years (for 1981, 1986, and 1991), or last 5 years (for 1996 onwards), and is part of the "all immigrants" category.</p></div> <div class="chart-container svelte-10seolh"><!></div>`,1);function Ir(e,t){Be(t,!1);const n=I(),a=I(),l=I(),o=I(),s=I(),v=I(),w=I(),g=I(),b=I();let O=I(600);const N=250,S={top:30,right:30,bottom:50,left:50};let U=I([]);ct(async()=>{const D=(await(await fetch("/gta-immigration/data/immigration_analysis/pop_dists.csv")).text()).split(`
`).slice(1);L(U,D.filter(c=>c.trim()!=="").map(c=>{const[_,H,re,se,ee,ue,le]=c.split(",");return{year:+_,imm:+H,not_imm:+re,pop:+se,imm_new:ee?+ee:null,vm:ue?+ue:null,imm_2nd:le?+le:null}}))}),P(()=>r(O),()=>{L(n,r(O)-S.left-S.right)}),P(()=>{},()=>{L(a,N-S.top-S.bottom)}),P(()=>(r(U),r(n)),()=>{L(l,br().domain([new Date(Math.min(...r(U).map(h=>h.year))),new Date(Math.max(...r(U).map(h=>h.year)))]).range([0,r(n)]))}),P(()=>r(a),()=>{L(o,st().domain([0,40]).range([r(a),0]))}),P(()=>(r(l),r(o)),()=>{L(s,Ee().x(h=>r(l)(new Date(h.year))).y(h=>r(o)(h.value)))}),P(()=>r(U),()=>{L(v,r(U).map(h=>({year:h.year,value:h.imm})))}),P(()=>r(U),()=>{L(w,r(U).map(h=>({year:h.year,value:h.not_imm})))}),P(()=>r(U),()=>{L(g,r(U).map(h=>({year:h.year,value:h.imm_new})).filter(h=>h.value!==null&&h.year<=1996))}),P(()=>r(U),()=>{L(b,r(U).map(h=>({year:h.year,value:h.imm_new})).filter(h=>h.value!==null&&h.year>=1996))}),Yt(),ut();var q=Ar(),Q=x($e(q),2),$=A(Q);{var V=h=>{var z=Wr();u(z,"height",N);var D=A(z),c=A(D);te(c,0,()=>[0,10,20,30,40],ne,(Z,J)=>{var Y=Fr();u(Y,"x1",0),X(K=>{u(Y,"y1",K),u(Y,"x2",r(n)),u(Y,"y2",K)},[()=>r(o)(J)],oe),W(Z,Y)});var _=x(c);te(_,5,()=>r(U).filter(Z=>Z.year%10===1),ne,(Z,J)=>{var Y=Lr();u(Y,"y",20);var K=A(Y,!0);k(Y),X(ae=>{u(Y,"x",ae),ye(K,r(J).year)},[()=>r(l)(new Date(r(J).year))],oe),W(Z,Y)}),k(_);var H=x(_);te(H,4,()=>[0,10,20,30,40],ne,(Z,J)=>{var Y=Hr();u(Y,"x",-10);var K=A(Y,!0);k(Y),X(ae=>{u(Y,"y",ae),ye(K,J)},[()=>r(o)(J)],oe),W(Z,Y)}),k(H);var re=x(H);u(re,"x",-30);var se=x(re),ee=x(se),ue=x(ee),le=x(ue),C=x(le),B=x(C),ce=x(B);k(D),k(z),X((Z,J,Y,K,ae,xe,ge,Me,We,De)=>{u(z,"width",r(O)),u(D,"transform",`translate(${S.left},${S.top})`),u(_,"transform",`translate(0,${r(a)})`),u(re,"y",r(a)/2),u(re,"transform",`rotate(-90, -30, ${r(a)/2})`),u(se,"d",Z),u(se,"stroke",he.imm),u(ee,"d",J),u(ee,"stroke",he.not_imm),u(ue,"d",Y),u(ue,"stroke",he.new_imm),u(le,"d",K),u(le,"stroke",he.new_imm),u(C,"x",ae),u(C,"y",xe),u(C,"fill",he.imm),u(B,"x",ge),u(B,"y",Me),u(B,"fill",he.not_imm),u(ce,"x",We),u(ce,"y",De),u(ce,"fill",he.new_imm)},[()=>r(s)(r(v)),()=>r(s)(r(w)),()=>r(s)(r(g)),()=>r(s)(r(b)),()=>r(l)(new Date(1991)),()=>r(o)(27),()=>r(l)(new Date(1981)),()=>r(o)(34),()=>r(l)(new Date(2001)),()=>r(o)(19)],oe),W(h,z)};Se($,h=>{r(U).length>0&&h(V)})}k(Q),lt(Q,"clientWidth",h=>L(O,h)),W(e,q),Ke()}var Or=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Nr=j('<text text-anchor="middle" font-size="12"> </text>'),zr=j('<g class="location-labels"><!><!></g>'),qr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Pr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Zr=j('<text class="tick-label svelte-1hhyb1w" text-anchor="middle" font-size="12"> </text>'),Rr=j("<g></g>"),Gr=j('<text class="tick-label svelte-1hhyb1w" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Xr=j('<text class="axis-label svelte-1hhyb1w" text-anchor="middle" font-size="12">Population</text>'),jr=j('<text class="axis-label svelte-1hhyb1w" text-anchor="middle" font-size="12">Distance (km)</text>'),Er=j('<svg><g><!><!><!><!><g></g><!><!><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path><text class="year-label svelte-1hhyb1w" text-anchor="end"> </text></g></svg>'),Jr=He('<div class="chart-container svelte-1hhyb1w"><!></div>');function je(e,t){Be(t,!1);const n=I(),a=I(),l=I(),o=I(),s=I(),v=I(),w=I(),g=I(),b=I(),O=I(),N=I();let S=Oe(t,"year",8),U=Oe(t,"showYAxisLabel",8,!1),q=Oe(t,"showXAxisLabel",8,!1),Q=Oe(t,"showXAxisTicks",8,!1),$=Oe(t,"showLocationLabels",8,!1),V=I(600);const h=125,z=20,D={top:20,right:30,bottom:20,left:50};let c=I([]);const _=[{start:0,end:10,label:"Old Toronto"},{start:10,end:20,label:"Inner Suburbs"},{start:20,end:30,label:"Outer Suburbs"},{start:30,end:50,label:"Exurbs"}];function H(C){return!r(n)||C==="Exurbs"?[C]:C.split(" ")}function re(C,B){return r(n)?C==="Exurbs"?-19:B===0?-25:-13:-9}ct(async()=>{const Z=(await(await fetch(`/gta-immigration/data/immigration_analysis/imm_dist_${S()}.csv`)).text()).split(`
`).slice(1).filter(J=>J.trim()!=="").map(J=>{const[Y,K,ae,xe,ge]=J.split(",");return{dist_km:+Y,num_not_imm_tot:+ae,num_imm_tot:+xe,num_imm_new:+ge}});L(c,[{dist_km:0,num_not_imm_tot:Z[0].num_not_imm_tot,num_imm_tot:Z[0].num_imm_tot,num_imm_new:Z[0].num_imm_new},...Z])});const se=[0,4e4,8e4];P(()=>r(V),()=>{L(n,r(V)<=600)}),P(()=>r(n),()=>{L(a,r(n)?40:20)}),P(()=>(Re(q()),Re($()),r(a)),()=>{L(l,(q()?h+z:h)+($()?r(a):0))}),P(()=>(Re($()),r(a),Re(q())),()=>{L(o,{...D,top:$()?D.top+r(a):D.top,bottom:q()?D.bottom+z:D.bottom})}),P(()=>(r(V),r(o)),()=>{L(s,r(V)-r(o).left-r(o).right)}),P(()=>(r(l),r(o)),()=>{L(v,r(l)-r(o).top-r(o).bottom)}),P(()=>r(s),()=>{L(w,st().domain([0,50]).range([0,r(s)]))}),P(()=>r(v),()=>{L(g,st().domain([0,se[2]]).range([r(v),0]))}),P(()=>(r(w),r(g),ke),()=>{L(b,Ee().x(C=>r(w)(C.dist_km)).y(C=>r(g)(C.num_not_imm_tot)).curve(ke))}),P(()=>(r(w),r(g),ke),()=>{L(O,Ee().x(C=>r(w)(C.dist_km)).y(C=>r(g)(C.num_imm_tot)).curve(ke))}),P(()=>(r(w),r(g),ke),()=>{L(N,Ee().x(C=>r(w)(C.dist_km)).y(C=>r(g)(C.num_imm_new)).curve(ke))}),Yt(),ut();var ee=Jr(),ue=A(ee);{var le=C=>{var B=Er(),ce=A(B),Z=A(ce);{var J=d=>{var f=zr(),y=A(f);te(y,0,()=>[10,20,30],ne,(R,me)=>{var fe=Or();u(fe,"y1",-5),X(Ze=>{u(fe,"x1",Ze),u(fe,"x2",Ze),u(fe,"y2",r(n)?-40:-20)},[()=>r(w)(me)],oe),W(R,fe)});var F=x(y);te(F,1,()=>_,ne,(R,me)=>{var fe=Et();const Ze=oe(()=>H(r(me).label));var Pt=$e(fe);te(Pt,1,()=>r(Ze),ne,(Zt,_t,Rt)=>{var Ie=Nr(),Gt=A(Ie,!0);k(Ie),X((Xt,jt)=>{u(Ie,"x",Xt),u(Ie,"y",jt),ye(Gt,r(_t))},[()=>r(w)((r(me).start+r(me).end)/2),()=>re(r(_t),Rt)],oe),W(Zt,Ie)}),W(R,fe)}),k(f),W(d,f)};Se(Z,d=>{$()&&d(J)})}var Y=x(Z);te(Y,1,()=>se,ne,(d,f)=>{var y=qr();u(y,"x1",0),X(F=>{u(y,"y1",F),u(y,"x2",r(s)),u(y,"y2",F)},[()=>r(g)(r(f))],oe),W(d,y)});var K=x(Y);te(K,0,()=>[10,20,30,40],ne,(d,f)=>{var y=Pr();u(y,"y1",5),X(F=>{u(y,"x1",F),u(y,"x2",F),u(y,"y2",r(v)-5)},[()=>r(w)(f)],oe),W(d,y)});var ae=x(K);{var xe=d=>{var f=Rr();te(f,4,()=>[0,10,20,30,40,50],ne,(y,F)=>{var R=Zr();u(R,"y",15);var me=A(R,!0);k(R),X(fe=>{u(R,"x",fe),ye(me,F)},[()=>r(w)(F)],oe),W(y,R)}),k(f),X(()=>u(f,"transform",`translate(0,${r(v)})`)),W(d,f)};Se(ae,d=>{Q()&&d(xe)})}var ge=x(ae);te(ge,5,()=>se,ne,(d,f)=>{var y=Gr();u(y,"x",-10);var F=A(y,!0);k(y),X(R=>{u(y,"y",R),ye(F,r(f)===0?"0":r(f)/1e3+"K")},[()=>r(g)(r(f))],oe),W(d,y)}),k(ge);var Me=x(ge);{var We=d=>{var f=Xr();u(f,"x",-40),X(()=>{u(f,"y",r(v)/2),u(f,"transform",`rotate(-90, -40, ${r(v)/2})`)}),W(d,f)};Se(Me,d=>{U()&&d(We)})}var De=x(Me);{var tt=d=>{var f=jr();X(()=>{u(f,"x",r(s)/2),u(f,"y",r(v)+35)}),W(d,f)};Se(De,d=>{q()&&d(tt)})}var Ae=x(De),m=x(Ae),p=x(m),T=x(p);u(T,"y",15);var i=A(T,!0);k(T),k(ce),k(B),X((d,f,y)=>{u(B,"width",r(V)),u(B,"height",r(l)),u(ce,"transform",`translate(${r(o).left},${r(o).top})`),u(Ae,"d",d),u(Ae,"stroke",he.not_imm),u(m,"d",f),u(m,"stroke",he.imm),u(p,"d",y),u(p,"stroke",he.new_imm),u(p,"stroke-dasharray",S()===1981?"4,1.5":"none"),u(T,"x",r(s)),ye(i,S())},[()=>r(b)(r(c)),()=>r(O)(r(c)),()=>r(N)(r(c))],oe),W(C,B)};Se(ue,C=>{r(c).length>0&&C(le)})}k(ee),lt(ee,"clientWidth",C=>L(V,C)),W(e,ee),Ke()}var Qr=He(`<div class="container plots-title"><h4>The suburbs hosts more and more immigrants, while non-immigrants live all over the region</h4> <p>Number of <span id="non-imm" class="svelte-1qn8hmw">non-immigrants</span>, <span id="imm" class="svelte-1qn8hmw">all immigrants</span>, and <span id="new-imm" class="svelte-1qn8hmw">new immigrants</span> in 1km-bands away from Toronto's city center.</p></div> <div><!> <!> <!> <!></div>`,1);function Vr(e){var t=Qr(),n=x($e(t),2),a=A(n);je(a,{year:1961,showYAxisLabel:!0,showLocationLabels:!0});var l=x(a,2);je(l,{year:1981});var o=x(l,2);je(o,{year:2001});var s=x(o,2);je(s,{year:2021,showXAxisLabel:!0,showXAxisTicks:!0}),k(n),W(e,t)}var Br=He(`<main><!> <div class="title"><h1>The Suburbanization of Immigrants in the Greater Toronto Area</h1> <p><a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://www.linkedin.com/in/serene-tan-530239113" target="_blank">Serene Tan</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            June 2025</p></div> <div class="text"><p>introduction...</p></div> <!> <div class="text"><h2>How do immigrants compare to the general population?</h2> <p>information...</p></div> <!> <!> <div class="text"><p>explanation...</p> <p>conclusion...</p></div> <div class="text"><br> <br> <div class="footnotes"><h3>Data & Methods</h3></div></div> <div class="text"><!></div></main>`);function ca(e,t){Be(t,!1);const n=en(),{footnotes:a}=n;ut();var l=Br(),o=A(l);Jt(o,{});var s=x(o,6);Yr(s);var v=x(s,4);Ir(v,{});var w=x(v,2);Vr(w);var g=x(w,6),b=A(g);$t(b,{footnotes:a}),k(g),k(l),W(e,l),Ke()}export{ca as component,la as universal};
