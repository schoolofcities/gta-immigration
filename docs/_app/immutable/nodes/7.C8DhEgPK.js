import{t as wt,a as L,n as j,c as Ee}from"../chunks/BK7Wmniv.js";import"../chunks/BiDEo7bR.js";import{B as Bt,C as X,D as Kt,F as x,y as A,L as W,z as S,g as r,ax as _e,f as Ut,w as $t,as as P,at as Ye,au as O,_ as ot,e as Zt,$ as Je,x as Qe}from"../chunks/Fxx0eZ4n.js";import{h as Ve}from"../chunks/BUSXSCr8.js";import{i as ue}from"../chunks/DJIllxwD.js";import{b as le,s as u,T as Be}from"../chunks/DV5cpcdT.js";import{s as yt}from"../chunks/CJGlZdPQ.js";import{k as Fe,m as Ke,o as $e,t as de,q as tn,s as en,b as Rt,a as et,i as nt,l as se,u as ht,F as nn,j as rn}from"../chunks/B8_PCwly.js";import{o as ce}from"../chunks/B_3djCp6.js";import{g as an,a as on}from"../chunks/BZRyRBhv.js";import{i as Yt,p as zt}from"../chunks/sL20XP9V.js";import{l as Et}from"../chunks/CjWAwAWE.js";function sn(t,e){t=t.slice();var n=0,a=t.length-1,l=t[n],o=t[a],s;return o<l&&(s=n,n=a,a=s,s=l,l=o,o=s),t[n]=e.floor(l),t[a]=e.ceil(o),t}function Le(){var t=[.5],e=[0,1],n,a=1;function l(o){return o!=null&&o<=o?e[Ke(t,o,0,a)]:n}return l.domain=function(o){return arguments.length?(t=Array.from(o),a=Math.min(t.length,e.length-1),l):t.slice()},l.range=function(o){return arguments.length?(e=Array.from(o),a=Math.min(t.length,e.length-1),l):e.slice()},l.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return Le().domain(t).range(e).unknown(n)},Fe.apply(l,arguments)}const ne=new Date,re=new Date;function R(t,e,n,a){function l(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(t(o=new Date(+o)),o),l.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),l.round=o=>{const s=l(o),v=l.ceil(o);return o-s<v-o?s:v},l.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),l.range=(o,s,v)=>{const w=[];if(o=l.ceil(o),v=v==null?1:Math.floor(v),!(o<s)||!(v>0))return w;let g;do w.push(g=new Date(+o)),e(o,v),t(o);while(g<o&&o<s);return w},l.filter=o=>R(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,v)=>{if(s>=s)if(v<0)for(;++v<=0;)for(;e(s,-1),!o(s););else for(;--v>=0;)for(;e(s,1),!o(s););}),n&&(l.count=(o,s)=>(ne.setTime(+o),re.setTime(+s),t(ne),t(re),Math.floor(n(ne,re))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(a?s=>a(s)%o===0:s=>l.count(0,s)%o===0):l)),l}const Jt=R(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jt.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?R(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jt);Jt.range;const vt=1e3,it=vt*60,pt=it*60,_t=pt*24,me=_t*7,ye=_t*30,ae=_t*365,Ft=R(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vt)},(t,e)=>(e-t)/vt,t=>t.getUTCSeconds());Ft.range;const fe=R(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vt)},(t,e)=>{t.setTime(+t+e*it)},(t,e)=>(e-t)/it,t=>t.getMinutes());fe.range;const un=R(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*it)},(t,e)=>(e-t)/it,t=>t.getUTCMinutes());un.range;const he=R(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vt-t.getMinutes()*it)},(t,e)=>{t.setTime(+t+e*pt)},(t,e)=>(e-t)/pt,t=>t.getHours());he.range;const ln=R(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pt)},(t,e)=>(e-t)/pt,t=>t.getUTCHours());ln.range;const Pt=R(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*it)/_t,t=>t.getDate()-1);Pt.range;const ge=R(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_t,t=>t.getUTCDate()-1);ge.range;const cn=R(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_t,t=>Math.floor(t/_t));cn.range;function bt(t){return R(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*it)/me)}const te=bt(0),Qt=bt(1),mn=bt(2),fn=bt(3),Lt=bt(4),hn=bt(5),gn=bt(6);te.range;Qt.range;mn.range;fn.range;Lt.range;hn.range;gn.range;function Mt(t){return R(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/me)}const We=Mt(0),Vt=Mt(1),vn=Mt(2),pn=Mt(3),Wt=Mt(4),_n=Mt(5),dn=Mt(6);We.range;Vt.range;vn.range;pn.range;Wt.range;_n.range;dn.range;const ve=R(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ve.range;const yn=R(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yn.range;const dt=R(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());dt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:R(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});dt.range;const Tt=R(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:R(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Tt.range;function xn(t,e,n,a,l,o){const s=[[Ft,1,vt],[Ft,5,5*vt],[Ft,15,15*vt],[Ft,30,30*vt],[o,1,it],[o,5,5*it],[o,15,15*it],[o,30,30*it],[l,1,pt],[l,3,3*pt],[l,6,6*pt],[l,12,12*pt],[a,1,_t],[a,2,2*_t],[n,1,me],[e,1,ye],[e,3,3*ye],[t,1,ae]];function v(g,b,I){const z=b<g;z&&([g,b]=[b,g]);const k=I&&typeof I.range=="function"?I:w(g,b,I),U=k?k.range(g,+b+1):[];return z?U.reverse():U}function w(g,b,I){const z=Math.abs(b-g)/I,k=$e(([,,Q])=>Q).right(s,z);if(k===s.length)return t.every(de(g/ae,b/ae,I));if(k===0)return Jt.every(Math.max(de(g,b,I),1));const[U,q]=s[z/s[k-1][2]<s[k][2]/z?k-1:k];return U.every(q)}return[v,w]}const[Tn,wn]=xn(dt,ve,te,Pt,he,fe);function oe(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ie(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ot(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bn(t){var e=t.dateTime,n=t.date,a=t.time,l=t.periods,o=t.days,s=t.shortDays,v=t.months,w=t.shortMonths,g=Nt(l),b=qt(l),I=Nt(o),z=qt(o),k=Nt(s),U=qt(s),q=Nt(v),Q=qt(v),$=Nt(w),V=qt(w),h={a:G,A:J,b:Y,B:K,c:null,d:Ce,e:Ce,f:jn,g:nr,G:ar,H:Zn,I:Rn,j:Xn,L:He,m:En,M:Jn,p:at,q:xt,Q:Se,s:ke,S:Qn,u:Vn,U:Bn,V:Kn,w:$n,W:tr,x:null,X:null,y:er,Y:rr,Z:or,"%":Ue},N={a:gt,A:Ct,b:Ht,B:Dt,c:null,d:De,e:De,f:lr,g:yr,G:Tr,H:ir,I:sr,j:ur,L:Ie,m:cr,M:mr,p:ee,q:At,Q:Se,s:ke,S:fr,u:hr,U:gr,V:vr,w:pr,W:_r,x:null,X:null,y:dr,Y:xr,Z:wr,"%":Ue},C={a:st,A:tt,b:ut,B:lt,c:D,d:be,e:be,f:Nn,g:we,G:Te,H:Me,I:Me,j:An,L:On,m:Hn,M:In,p:rt,q:Wn,Q:Pn,s:Gn,S:zn,u:Sn,U:kn,V:Yn,w:Un,W:Fn,x:B,X:ct,y:we,Y:Te,Z:Ln,"%":qn};h.x=c(n,h),h.X=c(a,h),h.c=c(e,h),N.x=c(n,N),N.X=c(a,N),N.c=c(e,N);function c(m,_){return function(T){var i=[],d=-1,f=0,y=m.length,F,Z,mt;for(T instanceof Date||(T=new Date(+T));++d<y;)m.charCodeAt(d)===37&&(i.push(m.slice(f,d)),(Z=xe[F=m.charAt(++d)])!=null?F=m.charAt(++d):Z=F==="e"?" ":"0",(mt=_[F])&&(F=mt(T,Z)),i.push(F),f=d+1);return i.push(m.slice(f,d)),i.join("")}}function p(m,_){return function(T){var i=Ot(1900,void 0,1),d=H(i,m,T+="",0),f,y;if(d!=T.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(i.s*1e3+("L"in i?i.L:0));if(_&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+i.p*12),i.m===void 0&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(f=ie(Ot(i.y,0,1)),y=f.getUTCDay(),f=y>4||y===0?Vt.ceil(f):Vt(f),f=ge.offset(f,(i.V-1)*7),i.y=f.getUTCFullYear(),i.m=f.getUTCMonth(),i.d=f.getUTCDate()+(i.w+6)%7):(f=oe(Ot(i.y,0,1)),y=f.getDay(),f=y>4||y===0?Qt.ceil(f):Qt(f),f=Pt.offset(f,(i.V-1)*7),i.y=f.getFullYear(),i.m=f.getMonth(),i.d=f.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),y="Z"in i?ie(Ot(i.y,0,1)).getUTCDay():oe(Ot(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+i.W*7-(y+5)%7:i.w+i.U*7-(y+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ie(i)):oe(i)}}function H(m,_,T,i){for(var d=0,f=_.length,y=T.length,F,Z;d<f;){if(i>=y)return-1;if(F=_.charCodeAt(d++),F===37){if(F=_.charAt(d++),Z=C[F in xe?_.charAt(d++):F],!Z||(i=Z(m,T,i))<0)return-1}else if(F!=T.charCodeAt(i++))return-1}return i}function rt(m,_,T){var i=g.exec(_.slice(T));return i?(m.p=b.get(i[0].toLowerCase()),T+i[0].length):-1}function st(m,_,T){var i=k.exec(_.slice(T));return i?(m.w=U.get(i[0].toLowerCase()),T+i[0].length):-1}function tt(m,_,T){var i=I.exec(_.slice(T));return i?(m.w=z.get(i[0].toLowerCase()),T+i[0].length):-1}function ut(m,_,T){var i=$.exec(_.slice(T));return i?(m.m=V.get(i[0].toLowerCase()),T+i[0].length):-1}function lt(m,_,T){var i=q.exec(_.slice(T));return i?(m.m=Q.get(i[0].toLowerCase()),T+i[0].length):-1}function D(m,_,T){return H(m,e,_,T)}function B(m,_,T){return H(m,n,_,T)}function ct(m,_,T){return H(m,a,_,T)}function G(m){return s[m.getDay()]}function J(m){return o[m.getDay()]}function Y(m){return w[m.getMonth()]}function K(m){return v[m.getMonth()]}function at(m){return l[+(m.getHours()>=12)]}function xt(m){return 1+~~(m.getMonth()/3)}function gt(m){return s[m.getUTCDay()]}function Ct(m){return o[m.getUTCDay()]}function Ht(m){return w[m.getUTCMonth()]}function Dt(m){return v[m.getUTCMonth()]}function ee(m){return l[+(m.getUTCHours()>=12)]}function At(m){return 1+~~(m.getUTCMonth()/3)}return{format:function(m){var _=c(m+="",h);return _.toString=function(){return m},_},parse:function(m){var _=p(m+="",!1);return _.toString=function(){return m},_},utcFormat:function(m){var _=c(m+="",N);return _.toString=function(){return m},_},utcParse:function(m){var _=p(m+="",!0);return _.toString=function(){return m},_}}}var xe={"-":"",_:" ",0:"0"},E=/^\s*\d+/,Mn=/^%/,Cn=/[\\^$*+?|[\]().{}]/g;function M(t,e,n){var a=t<0?"-":"",l=(a?-t:t)+"",o=l.length;return a+(o<n?new Array(n-o+1).join(e)+l:l)}function Dn(t){return t.replace(Cn,"\\$&")}function Nt(t){return new RegExp("^(?:"+t.map(Dn).join("|")+")","i")}function qt(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Un(t,e,n){var a=E.exec(e.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function Sn(t,e,n){var a=E.exec(e.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function kn(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function Yn(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function Fn(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function Te(t,e,n){var a=E.exec(e.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function we(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Ln(t,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Wn(t,e,n){var a=E.exec(e.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function Hn(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function be(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function An(t,e,n){var a=E.exec(e.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function Me(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function In(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function zn(t,e,n){var a=E.exec(e.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function On(t,e,n){var a=E.exec(e.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function Nn(t,e,n){var a=E.exec(e.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function qn(t,e,n){var a=Mn.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function Pn(t,e,n){var a=E.exec(e.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function Gn(t,e,n){var a=E.exec(e.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function Ce(t,e){return M(t.getDate(),e,2)}function Zn(t,e){return M(t.getHours(),e,2)}function Rn(t,e){return M(t.getHours()%12||12,e,2)}function Xn(t,e){return M(1+Pt.count(dt(t),t),e,3)}function He(t,e){return M(t.getMilliseconds(),e,3)}function jn(t,e){return He(t,e)+"000"}function En(t,e){return M(t.getMonth()+1,e,2)}function Jn(t,e){return M(t.getMinutes(),e,2)}function Qn(t,e){return M(t.getSeconds(),e,2)}function Vn(t){var e=t.getDay();return e===0?7:e}function Bn(t,e){return M(te.count(dt(t)-1,t),e,2)}function Ae(t){var e=t.getDay();return e>=4||e===0?Lt(t):Lt.ceil(t)}function Kn(t,e){return t=Ae(t),M(Lt.count(dt(t),t)+(dt(t).getDay()===4),e,2)}function $n(t){return t.getDay()}function tr(t,e){return M(Qt.count(dt(t)-1,t),e,2)}function er(t,e){return M(t.getFullYear()%100,e,2)}function nr(t,e){return t=Ae(t),M(t.getFullYear()%100,e,2)}function rr(t,e){return M(t.getFullYear()%1e4,e,4)}function ar(t,e){var n=t.getDay();return t=n>=4||n===0?Lt(t):Lt.ceil(t),M(t.getFullYear()%1e4,e,4)}function or(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+M(e/60|0,"0",2)+M(e%60,"0",2)}function De(t,e){return M(t.getUTCDate(),e,2)}function ir(t,e){return M(t.getUTCHours(),e,2)}function sr(t,e){return M(t.getUTCHours()%12||12,e,2)}function ur(t,e){return M(1+ge.count(Tt(t),t),e,3)}function Ie(t,e){return M(t.getUTCMilliseconds(),e,3)}function lr(t,e){return Ie(t,e)+"000"}function cr(t,e){return M(t.getUTCMonth()+1,e,2)}function mr(t,e){return M(t.getUTCMinutes(),e,2)}function fr(t,e){return M(t.getUTCSeconds(),e,2)}function hr(t){var e=t.getUTCDay();return e===0?7:e}function gr(t,e){return M(We.count(Tt(t)-1,t),e,2)}function ze(t){var e=t.getUTCDay();return e>=4||e===0?Wt(t):Wt.ceil(t)}function vr(t,e){return t=ze(t),M(Wt.count(Tt(t),t)+(Tt(t).getUTCDay()===4),e,2)}function pr(t){return t.getUTCDay()}function _r(t,e){return M(Vt.count(Tt(t)-1,t),e,2)}function dr(t,e){return M(t.getUTCFullYear()%100,e,2)}function yr(t,e){return t=ze(t),M(t.getUTCFullYear()%100,e,2)}function xr(t,e){return M(t.getUTCFullYear()%1e4,e,4)}function Tr(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wt(t):Wt.ceil(t),M(t.getUTCFullYear()%1e4,e,4)}function wr(){return"+0000"}function Ue(){return"%"}function Se(t){return+t}function ke(t){return Math.floor(+t/1e3)}var St,Oe;br({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function br(t){return St=bn(t),Oe=St.format,St.parse,St.utcFormat,St.utcParse,St}function Mr(t){return new Date(t)}function Cr(t){return t instanceof Date?+t:+new Date(+t)}function Ne(t,e,n,a,l,o,s,v,w,g){var b=tn(),I=b.invert,z=b.domain,k=g(".%L"),U=g(":%S"),q=g("%I:%M"),Q=g("%I %p"),$=g("%a %d"),V=g("%b %d"),h=g("%B"),N=g("%Y");function C(c){return(w(c)<c?k:v(c)<c?U:s(c)<c?q:o(c)<c?Q:a(c)<c?l(c)<c?$:V:n(c)<c?h:N)(c)}return b.invert=function(c){return new Date(I(c))},b.domain=function(c){return arguments.length?z(Array.from(c,Cr)):z().map(Mr)},b.ticks=function(c){var p=z();return t(p[0],p[p.length-1],c??10)},b.tickFormat=function(c,p){return p==null?C:g(p)},b.nice=function(c){var p=z();return(!c||typeof c.range!="function")&&(c=e(p[0],p[p.length-1],c??10)),c?z(sn(p,c)):b},b.copy=function(){return en(b,Ne(t,e,n,a,l,o,s,v,w,g))},b}function Dr(){return Fe.apply(Ne(Tn,wn,dt,ve,te,Pt,he,fe,Ft,Oe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qe(t,e){this._context=t,this._t=e}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kt(t){return new qe(t,0)}const Ur=!0,ga=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ur},Symbol.toStringTag,{value:"Module"}));var Sr=j('<path class="ct svelte-sstzq3"></path>'),kr=j('<rect class="box svelte-sstzq3" width="50" height="12" y="30"></rect>'),Yr=j('<text class="label legend svelte-sstzq3" y="55" text-anchor="middle"> </text>'),Fr=wt('<div class="map-inner-container svelte-sstzq3"><svg><defs><pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#cccccc" stroke-width="1"></path></pattern></defs><text class="label svelte-sstzq3" x="5" y="22"> </text><!><!><!></svg></div>');function Xt(t,e){Bt(e,!0);const n=[Rt.pct_imm[0],Rt.pct_imm[2],Rt.pct_imm[4],Rt.pct_imm[6],"#4b0f5c"],a={1961:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:14.85,notImmDist:19.51,popDist:17.98},1981:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:23.62,notImmDist:31.35,popDist:28.61},2001:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:26.68,notImmDist:35.81,popDist:32.01},2021:{breaks:[15,30,45,60],breakSuffix:"%",name:`Immigrant (% of population) in ${e.curYear}`,immDist:31.58,notImmDist:36.18,popDist:34.15}};let l=_e(null),o=_e(null),s=Ut(()=>r(o)),v=Ut(()=>r(s)/1.55),w=Ut(()=>r(s)<=500?25:30),g=Ut(()=>r(s)<=500?85:100),b=Ut(()=>on().center([-79.4,43.7]).scale([r(s)*r(w)]).translate([r(s)/2-50,r(v)/2+r(g)]).angle([-30])),I=Ut(()=>an(r(b)));Le().domain(a[e.curYear].breaks).range(n);function z(C){return C===null?"url(#diagonalHatch)":C<15?n[0]:C<30?n[1]:C<45?n[2]:C<60?n[3]:n[4]}function k(){const C=`/gta-immigration/data/immigration/imm_stats_${e.curYear}.geojson`;fetch(C).then(c=>c.json()).then(c=>{c.features=c.features.map((p,H)=>(p.id||(p.id=H),p)),c.features=c.features.map(p=>(p.properties.colour=z(p.properties.pct_imm),p)),W(l,c.features)})}ce(()=>{k()});var U=Fr(),q=A(U),Q=x(A(q)),$=A(Q,!0);S(Q);var V=x(Q);et(V,17,()=>r(l),nt,(C,c)=>{var p=Sr();X(H=>{u(p,"d",H),u(p,"fill",r(c).properties.colour),u(p,"stroke",r(c).properties.colour)},[()=>r(I)(r(c))]),L(C,p)});var h=x(V);et(h,17,()=>n,nt,(C,c,p)=>{var H=kr();u(H,"x",5+p*50),X(()=>u(H,"style",`fill:${n[p]??""}; stroke: white;`)),L(C,H)});var N=x(h);et(N,17,()=>a[e.curYear].breaks,nt,(C,c,p)=>{var H=Yr();u(H,"x",5+(p+1)*50);var rt=A(H,!0);S(H),X(()=>yt(rt,a[e.curYear].breaks[p]+a[e.curYear].breakSuffix)),L(C,H)}),S(q),S(U),X(()=>{u(q,"width",r(s)),u(q,"height",r(v)),u(q,"id",e.curYear),yt($,a[e.curYear].name)}),le(U,"offsetWidth",C=>W(o,C)),L(t,U),Kt()}var Lr=wt(`<div class="container plots-title"><h4>Downtown Toronto used to be the hub of the region's immigrants, but now, it's the suburbs</h4> <p>Percentage of population that are immigrants per census tract in 20-year intervals</p></div> <div class="map-grid svelte-1r85na6"><div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div> <div class="map-outer-container svelte-1r85na6"><!></div></div>`,1);function Wr(t){var e=Lr(),n=x($t(e),2),a=A(n),l=A(a);Xt(l,{curYear:1961}),S(a);var o=x(a,2),s=A(o);Xt(s,{curYear:1981}),S(o);var v=x(o,2),w=A(v);Xt(w,{curYear:2001}),S(v);var g=x(v,2),b=A(g);Xt(b,{curYear:2021}),S(g),S(n),L(t,e)}var Hr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Ar=j('<text class="tick-label svelte-10seolh" text-anchor="middle" font-size="12"> </text>'),Ir=j('<text class="tick-label svelte-10seolh" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),zr=j('<svg><g><!><g></g><g></g><text class="axis-label svelte-10seolh" text-anchor="middle" font-size="12">Average distance (km)</text><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4"></path><path fill="none" stroke-width="4" stroke-dasharray="4,2"></path><path fill="none" stroke-width="4"></path><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">All immigrants</text><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">Non-immigrants</text><text class="line-label svelte-10seolh" font-weight="bold" text-anchor="middle" font-size="12">New immigrants</text></g></svg>'),Or=wt(`<div class="container plots-title"><h4>Like non-immigrant Canadians, immigrants new and old are moving to the suburbs</h4> <p>Average distance from Toronto's city center for <span id="non-imm" class="svelte-10seolh">non-immigrants</span>, <span id="imm" class="svelte-10seolh">all immigrants</span>, and <span id="new-imm" class="svelte-10seolh">new immigrants</span>. A "new immigrant" arrived in the last 3 years (for 1981, 1986, and 1991), or last 5 years (for 1996 onwards), and is part of the "all immigrants" category.</p></div> <div class="chart-container svelte-10seolh"><!></div>`,1);function Nr(t,e){Bt(e,!1);const n=O(),a=O(),l=O(),o=O(),s=O(),v=O(),w=O(),g=O(),b=O();let I=O(600);const z=250,k={top:30,right:30,bottom:50,left:50};let U=O([]);ce(async()=>{const C=(await(await fetch("/gta-immigration/data/immigration_analysis/pop_dists.csv")).text()).split(`
`).slice(1);W(U,C.filter(c=>c.trim()!=="").map(c=>{const[p,H,rt,st,tt,ut,lt]=c.split(",");return{year:+p,imm:+H,not_imm:+rt,pop:+st,imm_new:tt?+tt:null,vm:ut?+ut:null,imm_2nd:lt?+lt:null}}))}),P(()=>r(I),()=>{W(n,r(I)-k.left-k.right)}),P(()=>{},()=>{W(a,z-k.top-k.bottom)}),P(()=>(r(U),r(n)),()=>{W(l,Dr().domain([new Date(Math.min(...r(U).map(h=>h.year))),new Date(Math.max(...r(U).map(h=>h.year)))]).range([0,r(n)]))}),P(()=>r(a),()=>{W(o,se().domain([0,40]).range([r(a),0]))}),P(()=>(r(l),r(o)),()=>{W(s,Et().x(h=>r(l)(new Date(h.year))).y(h=>r(o)(h.value)))}),P(()=>r(U),()=>{W(v,r(U).map(h=>({year:h.year,value:h.imm})))}),P(()=>r(U),()=>{W(w,r(U).map(h=>({year:h.year,value:h.not_imm})))}),P(()=>r(U),()=>{W(g,r(U).map(h=>({year:h.year,value:h.imm_new})).filter(h=>h.value!==null&&h.year<=1996))}),P(()=>r(U),()=>{W(b,r(U).map(h=>({year:h.year,value:h.imm_new})).filter(h=>h.value!==null&&h.year>=1996))}),Ye(),ue();var q=Or(),Q=x($t(q),2),$=A(Q);{var V=h=>{var N=zr();u(N,"height",z);var C=A(N),c=A(C);et(c,0,()=>[0,10,20,30,40],nt,(G,J)=>{var Y=Hr();u(Y,"x1",0),X(K=>{u(Y,"y1",K),u(Y,"x2",r(n)),u(Y,"y2",K)},[()=>r(o)(J)],ot),L(G,Y)});var p=x(c);et(p,5,()=>r(U).filter(G=>G.year%10===1),nt,(G,J)=>{var Y=Ar();u(Y,"y",20);var K=A(Y,!0);S(Y),X(at=>{u(Y,"x",at),yt(K,r(J).year)},[()=>r(l)(new Date(r(J).year))],ot),L(G,Y)}),S(p);var H=x(p);et(H,4,()=>[0,10,20,30,40],nt,(G,J)=>{var Y=Ir();u(Y,"x",-10);var K=A(Y,!0);S(Y),X(at=>{u(Y,"y",at),yt(K,J)},[()=>r(o)(J)],ot),L(G,Y)}),S(H);var rt=x(H);u(rt,"x",-30);var st=x(rt),tt=x(st),ut=x(tt),lt=x(ut),D=x(lt),B=x(D),ct=x(B);S(C),S(N),X((G,J,Y,K,at,xt,gt,Ct,Ht,Dt)=>{u(N,"width",r(I)),u(C,"transform",`translate(${k.left},${k.top})`),u(p,"transform",`translate(0,${r(a)})`),u(rt,"y",r(a)/2),u(rt,"transform",`rotate(-90, -30, ${r(a)/2})`),u(st,"d",G),u(st,"stroke",ht.imm),u(tt,"d",J),u(tt,"stroke",ht.not_imm),u(ut,"d",Y),u(ut,"stroke",ht.new_imm),u(lt,"d",K),u(lt,"stroke",ht.new_imm),u(D,"x",at),u(D,"y",xt),u(D,"fill",ht.imm),u(B,"x",gt),u(B,"y",Ct),u(B,"fill",ht.not_imm),u(ct,"x",Ht),u(ct,"y",Dt),u(ct,"fill",ht.new_imm)},[()=>r(s)(r(v)),()=>r(s)(r(w)),()=>r(s)(r(g)),()=>r(s)(r(b)),()=>r(l)(new Date(1991)),()=>r(o)(27),()=>r(l)(new Date(1981)),()=>r(o)(34),()=>r(l)(new Date(2001)),()=>r(o)(19)],ot),L(h,N)};Yt($,h=>{r(U).length>0&&h(V)})}S(Q),le(Q,"clientWidth",h=>W(I,h)),L(t,q),Kt()}var qr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Pr=j('<text text-anchor="middle" font-size="12"> </text>'),Gr=j('<g class="location-labels"><!><!></g>'),Zr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Rr=j('<line stroke="#e0e0e0" stroke-width="1"></line>'),Xr=j('<text class="tick-label svelte-1hhyb1w" text-anchor="middle" font-size="12"> </text>'),jr=j("<g></g>"),Er=j('<text class="tick-label svelte-1hhyb1w" text-anchor="end" dominant-baseline="middle" font-size="12"> </text>'),Jr=j('<text class="axis-label svelte-1hhyb1w" text-anchor="middle" font-size="12">Population</text>'),Qr=j('<text class="axis-label svelte-1hhyb1w" text-anchor="middle" font-size="12">Distance (km)</text>'),Vr=j('<svg><g><!><!><!><!><g></g><!><!><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path><path fill="none" stroke-width="2"></path><text class="year-label svelte-1hhyb1w" text-anchor="end"> </text></g></svg>'),Br=wt('<div class="chart-container svelte-1hhyb1w"><!></div>');function jt(t,e){Bt(e,!1);const n=O(),a=O(),l=O(),o=O(),s=O(),v=O(),w=O(),g=O(),b=O(),I=O(),z=O();let k=zt(e,"year",8),U=zt(e,"showYAxisLabel",8,!1),q=zt(e,"showXAxisLabel",8,!1),Q=zt(e,"showXAxisTicks",8,!1),$=zt(e,"showLocationLabels",8,!1),V=O(600);const h=125,N=20,C={top:20,right:30,bottom:20,left:50};let c=O([]);const p=[{start:0,end:10,label:"Old Toronto"},{start:10,end:20,label:"Inner Suburbs"},{start:20,end:30,label:"Outer Suburbs"},{start:30,end:50,label:"Exurbs"}];function H(D){return!r(n)||D==="Exurbs"?[D]:D.split(" ")}function rt(D,B){return r(n)?D==="Exurbs"?-19:B===0?-25:-13:-9}ce(async()=>{const G=(await(await fetch(`/gta-immigration/data/immigration_analysis/imm_dist_${k()}.csv`)).text()).split(`
`).slice(1).filter(J=>J.trim()!=="").map(J=>{const[Y,K,at,xt,gt]=J.split(",");return{dist_km:+Y,num_not_imm_tot:+at,num_imm_tot:+xt,num_imm_new:+gt}});W(c,[{dist_km:0,num_not_imm_tot:G[0].num_not_imm_tot,num_imm_tot:G[0].num_imm_tot,num_imm_new:G[0].num_imm_new},...G])});const st=[0,4e4,8e4];P(()=>r(V),()=>{W(n,r(V)<=600)}),P(()=>r(n),()=>{W(a,r(n)?40:20)}),P(()=>(Zt(q()),Zt($()),r(a)),()=>{W(l,(q()?h+N:h)+($()?r(a):0))}),P(()=>(Zt($()),r(a),Zt(q())),()=>{W(o,{...C,top:$()?C.top+r(a):C.top,bottom:q()?C.bottom+N:C.bottom})}),P(()=>(r(V),r(o)),()=>{W(s,r(V)-r(o).left-r(o).right)}),P(()=>(r(l),r(o)),()=>{W(v,r(l)-r(o).top-r(o).bottom)}),P(()=>r(s),()=>{W(w,se().domain([0,50]).range([0,r(s)]))}),P(()=>r(v),()=>{W(g,se().domain([0,st[2]]).range([r(v),0]))}),P(()=>(r(w),r(g),kt),()=>{W(b,Et().x(D=>r(w)(D.dist_km)).y(D=>r(g)(D.num_not_imm_tot)).curve(kt))}),P(()=>(r(w),r(g),kt),()=>{W(I,Et().x(D=>r(w)(D.dist_km)).y(D=>r(g)(D.num_imm_tot)).curve(kt))}),P(()=>(r(w),r(g),kt),()=>{W(z,Et().x(D=>r(w)(D.dist_km)).y(D=>r(g)(D.num_imm_new)).curve(kt))}),Ye(),ue();var tt=Br(),ut=A(tt);{var lt=D=>{var B=Vr(),ct=A(B),G=A(ct);{var J=d=>{var f=Gr(),y=A(f);et(y,0,()=>[10,20,30],nt,(Z,mt)=>{var ft=qr();u(ft,"y1",-5),X(Gt=>{u(ft,"x1",Gt),u(ft,"x2",Gt),u(ft,"y2",r(n)?-40:-20)},[()=>r(w)(mt)],ot),L(Z,ft)});var F=x(y);et(F,1,()=>p,nt,(Z,mt)=>{var ft=Ee();const Gt=ot(()=>H(r(mt).label));var Pe=$t(ft);et(Pe,1,()=>r(Gt),nt,(Ge,pe,Ze)=>{var It=Pr(),Re=A(It,!0);S(It),X((Xe,je)=>{u(It,"x",Xe),u(It,"y",je),yt(Re,r(pe))},[()=>r(w)((r(mt).start+r(mt).end)/2),()=>rt(r(pe),Ze)],ot),L(Ge,It)}),L(Z,ft)}),S(f),L(d,f)};Yt(G,d=>{$()&&d(J)})}var Y=x(G);et(Y,1,()=>st,nt,(d,f)=>{var y=Zr();u(y,"x1",0),X(F=>{u(y,"y1",F),u(y,"x2",r(s)),u(y,"y2",F)},[()=>r(g)(r(f))],ot),L(d,y)});var K=x(Y);et(K,0,()=>[10,20,30,40],nt,(d,f)=>{var y=Rr();u(y,"y1",5),X(F=>{u(y,"x1",F),u(y,"x2",F),u(y,"y2",r(v)-5)},[()=>r(w)(f)],ot),L(d,y)});var at=x(K);{var xt=d=>{var f=jr();et(f,4,()=>[0,10,20,30,40,50],nt,(y,F)=>{var Z=Xr();u(Z,"y",15);var mt=A(Z,!0);S(Z),X(ft=>{u(Z,"x",ft),yt(mt,F)},[()=>r(w)(F)],ot),L(y,Z)}),S(f),X(()=>u(f,"transform",`translate(0,${r(v)})`)),L(d,f)};Yt(at,d=>{Q()&&d(xt)})}var gt=x(at);et(gt,5,()=>st,nt,(d,f)=>{var y=Er();u(y,"x",-10);var F=A(y,!0);S(y),X(Z=>{u(y,"y",Z),yt(F,r(f)===0?"0":r(f)/1e3+"K")},[()=>r(g)(r(f))],ot),L(d,y)}),S(gt);var Ct=x(gt);{var Ht=d=>{var f=Jr();u(f,"x",-40),X(()=>{u(f,"y",r(v)/2),u(f,"transform",`rotate(-90, -40, ${r(v)/2})`)}),L(d,f)};Yt(Ct,d=>{U()&&d(Ht)})}var Dt=x(Ct);{var ee=d=>{var f=Qr();X(()=>{u(f,"x",r(s)/2),u(f,"y",r(v)+35)}),L(d,f)};Yt(Dt,d=>{q()&&d(ee)})}var At=x(Dt),m=x(At),_=x(m),T=x(_);u(T,"y",15);var i=A(T,!0);S(T),S(ct),S(B),X((d,f,y)=>{u(B,"width",r(V)),u(B,"height",r(l)),u(ct,"transform",`translate(${r(o).left},${r(o).top})`),u(At,"d",d),u(At,"stroke",ht.not_imm),u(m,"d",f),u(m,"stroke",ht.imm),u(_,"d",y),u(_,"stroke",ht.new_imm),u(_,"stroke-dasharray",k()===1981?"4,1.5":"none"),u(T,"x",r(s)),yt(i,k())},[()=>r(b)(r(c)),()=>r(I)(r(c)),()=>r(z)(r(c))],ot),L(D,B)};Yt(ut,D=>{r(c).length>0&&D(lt)})}S(tt),le(tt,"clientWidth",D=>W(V,D)),L(t,tt),Kt()}var Kr=wt(`<div class="container plots-title"><h4>The suburbs hosts more and more immigrants, while non-immigrants live all over the region</h4> <p>Number of <span id="non-imm" class="svelte-1qn8hmw">non-immigrants</span>, <span id="imm" class="svelte-1qn8hmw">all immigrants</span>, and <span id="new-imm" class="svelte-1qn8hmw">new immigrants</span> in 1km-bands away from Toronto's city center.</p></div> <div><!> <!> <!> <!></div>`,1);function $r(t){var e=Kr(),n=x($t(e),2),a=A(n);jt(a,{year:1961,showYAxisLabel:!0,showLocationLabels:!0});var l=x(a,2);jt(l,{year:1981});var o=x(l,2);jt(o,{year:2001});var s=x(o,2);jt(s,{year:2021,showXAxisLabel:!0,showXAxisTicks:!0}),S(n),L(t,e)}var ta=wt('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"> <meta name="description" content=""> <meta name="author" content="Aniket Kali, Serene Tan, &amp; Jeff Allen"> <meta property="og:title" content="The Suburbanization of Immigrants in the Greater Toronto Area"> <meta property="og:description" content="Immigrants have increasingly moved to the suburbs over the years"> <meta property="og:type" content="website"> <meta property="og:url" content="https://schoolofcities.github.io/gta-immigration/suburbanization"> <meta property="og:image" content="https://schoolofcities.github.io/gta-immigration/web-card-suburbanization.png"> <meta property="og:locale" content="en_CA"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="https://schoolofcities.github.io/gta-immigration/suburbanization"> <meta name="twitter:creator" content="@UofTCities"> <meta name="twitter:title" content="The Suburbanization of Immigrants in the Greater Toronto Area"> <meta name="twitter:description" content="Immigrants have increasingly moved to the suburbs over the years"> <meta name="twitter:image" content="https://schoolofcities.github.io/gta-immigration/web-card-suburbanization.png">',1),ea=wt(`<main><!> <div class="title"><h1>The Suburbanization of Immigrants in the Greater Toronto Area</h1> <p><a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://www.linkedin.com/in/serene-tan-530239113" target="_blank">Serene Tan</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            June 2025</p></div> <div class="text"><p>introduction...</p></div> <!> <div class="text"><h2>Why the move to the suburbs?</h2> <p>information...</p></div> <!> <!> <div class="text"><p>explanation...</p> <p>conclusion...</p></div> <div class="text"><br> <br> <div class="footnotes"><h3>Data & Methods</h3></div></div> <div class="text"><!></div></main>`);function va(t,e){Bt(e,!1);const n=rn(),{footnotes:a}=n;ue();var l=ea();Ve(I=>{var z=ta();Je.title="The Suburbanization of Immigrants in the Greater Toronto Area | School of Cities",Qe(28),L(I,z)});var o=A(l);Be(o,{});var s=x(o,6);Wr(s);var v=x(s,4);Nr(v,{});var w=x(v,2);$r(w);var g=x(w,6),b=A(g);nn(b,{footnotes:a}),S(g),S(l),L(t,l),Kt()}export{va as component,ga as universal};
